import{a_ as Fh,aL as k,aR as Bh,aP as bi,aK as Kt,d1 as g,b2 as Vh}from"./index-0T11UOAg.js";import{f as Hh,d as Wh,b as Uh,j as zh}from"./callBound-nfEq_Ydq.js";function qh(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var _o={},an={},gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.walletLogo=void 0;const Gh=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};gi.walletLogo=Gh;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.LINK_API_URL=void 0;mi.LINK_API_URL="https://www.walletlink.org";var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.ScopedLocalStorage=void 0;class Jh{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}yi.ScopedLocalStorage=Jh;var yr={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});const Qh=Fh;function Aa(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Zh(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Yh=class extends Qh.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Aa(s,this,r);else{const o=s.length,a=Zh(s);for(let c=0;c<o;c+=1)Aa(a[c],this,r)}return!0}};Xt.default=Yh;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.EVENTS=void 0;Nr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var pn={},wo={},At={},Kh=cn;cn.default=cn;cn.stable=Au;cn.stableStringify=Au;var ri="[...]",ku="[Circular]",Gt=[],Ut=[];function Mu(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function cn(t,e,r,n){typeof n>"u"&&(n=Mu()),Js(t,"",0,[],void 0,0,n);var i;try{Ut.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Tu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Gt.length!==0;){var s=Gt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function dr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Gt.push([n,r,e,i])):Ut.push([e,r,t]):(n[r]=t,Gt.push([n,r,e]))}function Js(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){dr(ku,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){dr(ri,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){dr(ri,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Js(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];Js(t[u],u,a,n,t,s,o)}}n.pop()}}function Xh(t,e){return t<e?-1:t>e?1:0}function Au(t,e,r,n){typeof n>"u"&&(n=Mu());var i=Qs(t,"",0,[],void 0,0,n)||t,s;try{Ut.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Tu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Gt.length!==0;){var o=Gt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Qs(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){dr(ku,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){dr(ri,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){dr(ri,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Qs(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(Xh);for(a=0;a<u.length;a++){var l=u[a];Qs(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")Gt.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Tu(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Ut.length>0)for(var n=0;n<Ut.length;n++){var i=Ut[n];if(i[1]===e&&i[0]===r){r=i[2],Ut.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(At,"__esModule",{value:!0});At.EthereumProviderError=At.EthereumRpcError=void 0;const ed=Kh;class Ou extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return ed.default(this.serialize(),nd,2)}}At.EthereumRpcError=Ou;class td extends Ou{constructor(e,r,n){if(!rd(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}At.EthereumProviderError=td;function rd(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function nd(t,e){if(e!=="[Circular]")return e}var So={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.errorValues=Tt.errorCodes=void 0;Tt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Tt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Tt,r=At,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,d=i){if(Number.isInteger(h)){const p=h.toString();if(f(e.errorValues,p))return e.errorValues[p].message;if(u(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const d=h.toString();return!!(e.errorValues[d]||u(h))}t.isValidCode=a;function c(h,{fallbackError:d=s,shouldIncludeStack:p=!1}={}){var v,y;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const b={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const w=h;b.code=w.code,w.message&&typeof w.message=="string"?(b.message=w.message,f(w,"data")&&(b.data=w.data)):(b.message=o(b.code),b.data={originalError:l(h)})}else{b.code=d.code;const w=(v=h)===null||v===void 0?void 0:v.message;b.message=w&&typeof w=="string"?w:d.message,b.data={originalError:l(h)}}const m=(y=h)===null||y===void 0?void 0:y.stack;return p&&h&&m&&typeof m=="string"&&(b.stack=m),b}t.serializeError=c;function u(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,d){return Object.prototype.hasOwnProperty.call(h,d)}})(So);var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.ethErrors=void 0;const Eo=At,Nu=So,we=Tt;vi.ethErrors={rpc:{parse:t=>De(we.errorCodes.rpc.parse,t),invalidRequest:t=>De(we.errorCodes.rpc.invalidRequest,t),invalidParams:t=>De(we.errorCodes.rpc.invalidParams,t),methodNotFound:t=>De(we.errorCodes.rpc.methodNotFound,t),internal:t=>De(we.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return De(e,t)},invalidInput:t=>De(we.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>De(we.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>De(we.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>De(we.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>De(we.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>De(we.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>zr(we.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>zr(we.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>zr(we.errorCodes.provider.unsupportedMethod,t),disconnected:t=>zr(we.errorCodes.provider.disconnected,t),chainDisconnected:t=>zr(we.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Eo.EthereumProviderError(e,r,n)}}};function De(t,e){const[r,n]=Lu(e);return new Eo.EthereumRpcError(t,r||Nu.getMessageFromCode(t),n)}function zr(t,e){const[r,n]=Lu(e);return new Eo.EthereumProviderError(t,r||Nu.getMessageFromCode(t),n)}function Lu(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=At;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=So;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=vi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Tt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(wo);var K={},_i={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(_i);Object.defineProperty(K,"__esModule",{value:!0});K.EthereumAddressFromSignedMessageResponse=K.SubmitEthereumTransactionResponse=K.SignEthereumTransactionResponse=K.SignEthereumMessageResponse=K.isRequestEthereumAccountsResponse=K.SelectProviderResponse=K.WatchAssetReponse=K.RequestEthereumAccountsResponse=K.SwitchEthereumChainResponse=K.AddEthereumChainResponse=K.isErrorResponse=void 0;const ht=_i;function id(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}K.isErrorResponse=id;function sd(t){return{method:ht.Web3Method.addEthereumChain,result:t}}K.AddEthereumChainResponse=sd;function od(t){return{method:ht.Web3Method.switchEthereumChain,result:t}}K.SwitchEthereumChainResponse=od;function ad(t){return{method:ht.Web3Method.requestEthereumAccounts,result:t}}K.RequestEthereumAccountsResponse=ad;function cd(t){return{method:ht.Web3Method.watchAsset,result:t}}K.WatchAssetReponse=cd;function ud(t){return{method:ht.Web3Method.selectProvider,result:t}}K.SelectProviderResponse=ud;function ld(t){return t&&t.method===ht.Web3Method.requestEthereumAccounts}K.isRequestEthereumAccountsResponse=ld;function fd(t){return{method:ht.Web3Method.signEthereumMessage,result:t}}K.SignEthereumMessageResponse=fd;function hd(t){return{method:ht.Web3Method.signEthereumTransaction,result:t}}K.SignEthereumTransactionResponse=hd;function dd(t){return{method:ht.Web3Method.submitEthereumTransaction,result:t}}K.SubmitEthereumTransactionResponse=dd;function pd(t){return{method:ht.Web3Method.ethereumAddressFromSignedMessage,result:t}}K.EthereumAddressFromSignedMessageResponse=pd;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.LIB_VERSION=void 0;Lr.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=wo,r=K,n=Lr;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,f){const h=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),d=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");d.searchParams.set("version",n.LIB_VERSION),d.searchParams.set("code",h.code.toString());const p=a(h.data,f);return p&&d.searchParams.set("method",p),d.searchParams.set("message",h.message),Object.assign(Object.assign({},h),{docUrl:d.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,f){var h;const d=(h=l)===null||h===void 0?void 0:h.method;if(d)return d;if(f!==void 0)return typeof f=="string"?f:Array.isArray(f)?f.length>0?f[0].method:void 0:f.method}function c(l){var f;if(typeof l=="number")return l;if(u(l))return(f=l.code)!==null&&f!==void 0?f:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(pn);var $r={},I={},Co=typeof Map=="function"&&Map.prototype,bs=Object.getOwnPropertyDescriptor&&Co?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ni=Co&&bs&&typeof bs.get=="function"?bs.get:null,Ta=Co&&Map.prototype.forEach,Io=typeof Set=="function"&&Set.prototype,gs=Object.getOwnPropertyDescriptor&&Io?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ii=Io&&gs&&typeof gs.get=="function"?gs.get:null,Oa=Io&&Set.prototype.forEach,bd=typeof WeakMap=="function"&&WeakMap.prototype,Kr=bd?WeakMap.prototype.has:null,gd=typeof WeakSet=="function"&&WeakSet.prototype,Xr=gd?WeakSet.prototype.has:null,md=typeof WeakRef=="function"&&WeakRef.prototype,Na=md?WeakRef.prototype.deref:null,yd=Boolean.prototype.valueOf,vd=Object.prototype.toString,_d=Function.prototype.toString,wd=String.prototype.match,Ro=String.prototype.slice,kt=String.prototype.replace,Sd=String.prototype.toUpperCase,La=String.prototype.toLowerCase,$u=RegExp.prototype.test,$a=Array.prototype.concat,ot=Array.prototype.join,Ed=Array.prototype.slice,Pa=Math.floor,Zs=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ms=Object.getOwnPropertySymbols,Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,vr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ce=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===vr||!0)?Symbol.toStringTag:null,Pu=Object.prototype.propertyIsEnumerable,Da=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ja(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||$u.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Pa(-t):Pa(t);if(n!==t){var i=String(n),s=Ro.call(e,i.length+1);return kt.call(i,r,"$&_")+"."+kt.call(kt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kt.call(e,r,"$&_")}var Ks=Bh,Fa=Ks.custom,Ba=ju(Fa)?Fa:null,Cd=function t(e,r,n,i){var s=r||{};if(It(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(It(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=It(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(It(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(It(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Bu(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?ja(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?ja(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return Xs(e)?"[Array]":"[Object]";var f=Hd(s,n);if(typeof i>"u")i=[];else if(Fu(i,e)>=0)return"[Circular]";function h(S,_,A){if(_&&(i=Ed.call(i),i.push(_)),A){var C={depth:s.depth};return It(s,"quoteStyle")&&(C.quoteStyle=s.quoteStyle),t(S,C,n+1,i)}return t(S,s,n+1,i)}if(typeof e=="function"&&!Va(e)){var d=Nd(e),p=$n(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+ot.call(p,", ")+" }":"")}if(ju(e)){var v=vr?kt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ys.call(e);return typeof e=="object"&&!vr?qr(v):v}if(Fd(e)){for(var y="<"+La.call(String(e.nodeName)),b=e.attributes||[],m=0;m<b.length;m++)y+=" "+b[m].name+"="+Du(Id(b[m].value),"double",s);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+La.call(String(e.nodeName))+">",y}if(Xs(e)){if(e.length===0)return"[]";var w=$n(e,h);return f&&!Vd(w)?"["+eo(w,f)+"]":"[ "+ot.call(w,", ")+" ]"}if(xd(e)){var R=$n(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Pu.call(e,"cause")?"{ ["+String(e)+"] "+ot.call($a.call("[cause]: "+h(e.cause),R),", ")+" }":R.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ot.call(R,", ")+" }"}if(typeof e=="object"&&o){if(Ba&&typeof e[Ba]=="function"&&Ks)return Ks(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Ld(e)){var E=[];return Ta&&Ta.call(e,function(S,_){E.push(h(_,e,!0)+" => "+h(S,e))}),Ha("Map",ni.call(e),E,f)}if(Dd(e)){var O=[];return Oa&&Oa.call(e,function(S){O.push(h(S,e))}),Ha("Set",ii.call(e),O,f)}if($d(e))return ys("WeakMap");if(jd(e))return ys("WeakSet");if(Pd(e))return ys("WeakRef");if(Md(e))return qr(h(Number(e)));if(Td(e))return qr(h(Zs.call(e)));if(Ad(e))return qr(yd.call(e));if(kd(e))return qr(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===k)return"{ [object globalThis] }";if(!Rd(e)&&!Va(e)){var H=$n(e,h),X=Da?Da(e)===Object.prototype:e instanceof Object||e.constructor===Object,T=e instanceof Object?"":"null prototype",B=!X&&Ce&&Object(e)===e&&Ce in e?Ro.call($t(e),8,-1):T?"Object":"",ue=X||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=ue+(B||T?"["+ot.call($a.call([],B||[],T||[]),": ")+"] ":"");return H.length===0?z+"{}":f?z+"{"+eo(H,f)+"}":z+"{ "+ot.call(H,", ")+" }"}return String(e)};function Du(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Id(t){return kt.call(String(t),/"/g,"&quot;")}function Xs(t){return $t(t)==="[object Array]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Rd(t){return $t(t)==="[object Date]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Va(t){return $t(t)==="[object RegExp]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function xd(t){return $t(t)==="[object Error]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function kd(t){return $t(t)==="[object String]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Md(t){return $t(t)==="[object Number]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function Ad(t){return $t(t)==="[object Boolean]"&&(!Ce||!(typeof t=="object"&&Ce in t))}function ju(t){if(vr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ys)return!1;try{return Ys.call(t),!0}catch{}return!1}function Td(t){if(!t||typeof t!="object"||!Zs)return!1;try{return Zs.call(t),!0}catch{}return!1}var Od=Object.prototype.hasOwnProperty||function(t){return t in this};function It(t,e){return Od.call(t,e)}function $t(t){return vd.call(t)}function Nd(t){if(t.name)return t.name;var e=wd.call(_d.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Fu(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ld(t){if(!ni||!t||typeof t!="object")return!1;try{ni.call(t);try{ii.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function $d(t){if(!Kr||!t||typeof t!="object")return!1;try{Kr.call(t,Kr);try{Xr.call(t,Xr)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Pd(t){if(!Na||!t||typeof t!="object")return!1;try{return Na.call(t),!0}catch{}return!1}function Dd(t){if(!ii||!t||typeof t!="object")return!1;try{ii.call(t);try{ni.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function jd(t){if(!Xr||!t||typeof t!="object")return!1;try{Xr.call(t,Xr);try{Kr.call(t,Kr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Fd(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Bu(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Bu(Ro.call(t,0,e.maxStringLength),e)+n}var i=kt.call(kt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Bd);return Du(i,"single",e)}function Bd(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Sd.call(e.toString(16))}function qr(t){return"Object("+t+")"}function ys(t){return t+" { ? }"}function Ha(t,e,r,n){var i=n?eo(r,n):ot.call(r,", ");return t+" ("+e+") {"+i+"}"}function Vd(t){for(var e=0;e<t.length;e++)if(Fu(t[e],`
`)>=0)return!1;return!0}function Hd(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ot.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ot.call(Array(e+1),r)}}function eo(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ot.call(t,","+r)+`
`+e.prev}function $n(t,e){var r=Xs(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=It(t,i)?e(t[i],t):""}var s=typeof ms=="function"?ms(t):[],o;if(vr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)It(t,c)&&(r&&String(Number(c))===c&&c<t.length||vr&&o["$"+c]instanceof Symbol||($u.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof ms=="function")for(var u=0;u<s.length;u++)Pu.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var xo=Hh,Pr=Wh,Wd=Cd,Ud=xo("%TypeError%"),Pn=xo("%WeakMap%",!0),Dn=xo("%Map%",!0),zd=Pr("WeakMap.prototype.get",!0),qd=Pr("WeakMap.prototype.set",!0),Gd=Pr("WeakMap.prototype.has",!0),Jd=Pr("Map.prototype.get",!0),Qd=Pr("Map.prototype.set",!0),Zd=Pr("Map.prototype.has",!0),ko=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Yd=function(t,e){var r=ko(t,e);return r&&r.value},Kd=function(t,e,r){var n=ko(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Xd=function(t,e){return!!ko(t,e)},ep=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Ud("Side channel does not contain "+Wd(s))},get:function(s){if(Pn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return zd(e,s)}else if(Dn){if(r)return Jd(r,s)}else if(n)return Yd(n,s)},has:function(s){if(Pn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Gd(e,s)}else if(Dn){if(r)return Zd(r,s)}else if(n)return Xd(n,s);return!1},set:function(s,o){Pn&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Pn),qd(e,s,o)):Dn?(r||(r=new Dn),Qd(r,s,o)):(n||(n={key:{},next:null}),Kd(n,s,o))}};return i},tp=String.prototype.replace,rp=/%20/g,vs={RFC1738:"RFC1738",RFC3986:"RFC3986"},Mo={default:vs.RFC3986,formatters:{RFC1738:function(t){return tp.call(t,rp,"+")},RFC3986:function(t){return String(t)}},RFC1738:vs.RFC1738,RFC3986:vs.RFC3986},np=Mo,_s=Object.prototype.hasOwnProperty,Ft=Array.isArray,et=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ip=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ft(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Vu=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},sp=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ft(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!_s.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ft(e)&&!Ft(r)&&(i=Vu(e,n)),Ft(e)&&Ft(r)?(r.forEach(function(s,o){if(_s.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return _s.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},op=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},ap=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},cp=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===np.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+et[u];continue}if(u<2048){a=a+(et[192|u>>6]+et[128|u&63]);continue}if(u<55296||u>=57344){a=a+(et[224|u>>12]+et[128|u>>6&63]+et[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=et[240|u>>18]+et[128|u>>12&63]+et[128|u>>6&63]+et[128|u&63]}return a},up=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return ip(r),e},lp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},fp=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},hp=function(e,r){return[].concat(e,r)},dp=function(e,r){if(Ft(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Hu={arrayToObject:Vu,assign:op,combine:hp,compact:up,decode:ap,encode:cp,isBuffer:fp,isRegExp:lp,maybeMap:dp,merge:sp},Wu=ep,Yn=Hu,en=Mo,pp=Object.prototype.hasOwnProperty,Wa={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},bt=Array.isArray,bp=Array.prototype.push,Uu=function(t,e){bp.apply(t,bt(e)?e:[e])},gp=Date.prototype.toISOString,Ua=en.default,Ee={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Yn.encode,encodeValuesOnly:!1,format:Ua,formatter:en.formatters[Ua],indices:!1,serializeDate:function(e){return gp.call(e)},skipNulls:!1,strictNullHandling:!1},mp=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ws={},yp=function t(e,r,n,i,s,o,a,c,u,l,f,h,d,p,v,y){for(var b=e,m=y,w=0,R=!1;(m=m.get(ws))!==void 0&&!R;){var E=m.get(e);if(w+=1,typeof E<"u"){if(E===w)throw new RangeError("Cyclic object value");R=!0}typeof m.get(ws)>"u"&&(w=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=f(b):n==="comma"&&bt(b)&&(b=Yn.maybeMap(b,function(C){return C instanceof Date?f(C):C})),b===null){if(s)return a&&!p?a(r,Ee.encoder,v,"key",h):r;b=""}if(mp(b)||Yn.isBuffer(b)){if(a){var O=p?r:a(r,Ee.encoder,v,"key",h);return[d(O)+"="+d(a(b,Ee.encoder,v,"value",h))]}return[d(r)+"="+d(String(b))]}var H=[];if(typeof b>"u")return H;var X;if(n==="comma"&&bt(b))p&&a&&(b=Yn.maybeMap(b,a)),X=[{value:b.length>0?b.join(",")||null:void 0}];else if(bt(c))X=c;else{var T=Object.keys(b);X=u?T.sort(u):T}for(var B=i&&bt(b)&&b.length===1?r+"[]":r,ue=0;ue<X.length;++ue){var z=X[ue],S=typeof z=="object"&&typeof z.value<"u"?z.value:b[z];if(!(o&&S===null)){var _=bt(b)?typeof n=="function"?n(B,z):B:B+(l?"."+z:"["+z+"]");y.set(e,w);var A=Wu();A.set(ws,y),Uu(H,t(S,_,n,i,s,o,n==="comma"&&p&&bt(b)?null:a,c,u,l,f,h,d,p,v,A))}}return H},vp=function(e){if(!e)return Ee;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ee.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=en.default;if(typeof e.format<"u"){if(!pp.call(en.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=en.formatters[n],s=Ee.filter;return(typeof e.filter=="function"||bt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ee.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ee.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ee.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ee.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ee.encode,encoder:typeof e.encoder=="function"?e.encoder:Ee.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ee.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ee.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ee.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ee.strictNullHandling}},_p=function(t,e){var r=t,n=vp(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):bt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Wa?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Wa[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=Wu(),f=0;f<i.length;++f){var h=i[f];n.skipNulls&&r[h]===null||Uu(o,yp(r[h],h,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},_r=Hu,to=Object.prototype.hasOwnProperty,wp=Array.isArray,pe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:_r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Sp=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},zu=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Ep="utf8=%26%2310003%3B",Cp="utf8=%E2%9C%93",Ip=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Cp?u="utf-8":o[c]===Ep&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],f=l.indexOf("]="),h=f===-1?l.indexOf("="):f+1,d,p;h===-1?(d=r.decoder(l,pe.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(l.slice(0,h),pe.decoder,u,"key"),p=_r.maybeMap(zu(l.slice(h+1),r),function(v){return r.decoder(v,pe.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=Sp(p)),l.indexOf("[]=")>-1&&(p=wp(p)?[p]:p),to.call(n,d)?n[d]=_r.combine(n[d],p):n[d]=p}return n},Rp=function(t,e,r,n){for(var i=n?e:zu(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},xp=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&to.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&(c=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&to.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Rp(l,r,n,i)}},kp=function(e){if(!e)return pe;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?pe.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?pe.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:pe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:pe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:pe.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:pe.comma,decoder:typeof e.decoder=="function"?e.decoder:pe.decoder,delimiter:typeof e.delimiter=="string"||_r.isRegExp(e.delimiter)?e.delimiter:pe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:pe.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:pe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:pe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:pe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pe.strictNullHandling}},Mp=function(t,e){var r=kp(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ip(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=xp(a,n[a],r,typeof t=="string");i=_r.merge(i,c,r)}return r.allowSparse===!0?i:_r.compact(i)},Ap=_p,Tp=Mp,Op=Mo,Np={formats:Op,parse:Tp,stringify:Ap},bn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(bn);var Lp=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I,"__esModule",{value:!0});I.isInIFrame=I.createQrUrl=I.getFavicon=I.range=I.isBigNumber=I.ensureParsedJSONObject=I.ensureBN=I.ensureRegExpString=I.ensureIntNumber=I.ensureBuffer=I.ensureAddressString=I.ensureEvenLengthHexString=I.ensureHexString=I.isHexString=I.prepend0x=I.strip0x=I.has0xPrefix=I.hexStringFromIntNumber=I.intNumberFromHexString=I.bigIntStringFromBN=I.hexStringFromBuffer=I.hexStringToUint8Array=I.uint8ArrayToHex=I.randomBytesHex=void 0;const Rt=Lp(bi),$p=Np,er=pn,We=bn,qu=/^[0-9]*$/,Gu=/^[a-f0-9]*$/;function Pp(t){return Ju(crypto.getRandomValues(new Uint8Array(t)))}I.randomBytesHex=Pp;function Ju(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}I.uint8ArrayToHex=Ju;function Dp(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}I.hexStringToUint8Array=Dp;function jp(t,e=!1){const r=t.toString("hex");return(0,We.HexString)(e?"0x"+r:r)}I.hexStringFromBuffer=jp;function Fp(t){return(0,We.BigIntString)(t.toString(10))}I.bigIntStringFromBN=Fp;function Bp(t){return(0,We.IntNumber)(new Rt.default(mn(t,!1),16).toNumber())}I.intNumberFromHexString=Bp;function Vp(t){return(0,We.HexString)("0x"+new Rt.default(t).toString(16))}I.hexStringFromIntNumber=Vp;function Ao(t){return t.startsWith("0x")||t.startsWith("0X")}I.has0xPrefix=Ao;function wi(t){return Ao(t)?t.slice(2):t}I.strip0x=wi;function Qu(t){return Ao(t)?"0x"+t.slice(2):"0x"+t}I.prepend0x=Qu;function gn(t){if(typeof t!="string")return!1;const e=wi(t).toLowerCase();return Gu.test(e)}I.isHexString=gn;function Zu(t,e=!1){if(typeof t=="string"){const r=wi(t).toLowerCase();if(Gu.test(r))return(0,We.HexString)(e?"0x"+r:r)}throw er.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}I.ensureHexString=Zu;function mn(t,e=!1){let r=Zu(t,!1);return r.length%2===1&&(r=(0,We.HexString)("0"+r)),e?(0,We.HexString)("0x"+r):r}I.ensureEvenLengthHexString=mn;function Hp(t){if(typeof t=="string"){const e=wi(t).toLowerCase();if(gn(e)&&e.length===40)return(0,We.AddressString)(Qu(e))}throw er.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}I.ensureAddressString=Hp;function Wp(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(gn(t)){const e=mn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw er.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}I.ensureBuffer=Wp;function Yu(t){if(typeof t=="number"&&Number.isInteger(t))return(0,We.IntNumber)(t);if(typeof t=="string"){if(qu.test(t))return(0,We.IntNumber)(Number(t));if(gn(t))return(0,We.IntNumber)(new Rt.default(mn(t,!1),16).toNumber())}throw er.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}I.ensureIntNumber=Yu;function Up(t){if(t instanceof RegExp)return(0,We.RegExpString)(t.toString());throw er.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}I.ensureRegExpString=Up;function zp(t){if(t!==null&&(Rt.default.isBN(t)||Ku(t)))return new Rt.default(t.toString(10),10);if(typeof t=="number")return new Rt.default(Yu(t));if(typeof t=="string"){if(qu.test(t))return new Rt.default(t,10);if(gn(t))return new Rt.default(mn(t,!1),16)}throw er.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}I.ensureBN=zp;function qp(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw er.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}I.ensureParsedJSONObject=qp;function Ku(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}I.isBigNumber=Ku;function Gp(t,e){return Array.from({length:e-t},(r,n)=>t+n)}I.range=Gp;function Jp(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}I.getFavicon=Jp;function Qp(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,$p.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}I.createQrUrl=Qp;function Zp(){try{return window.frameElement!==null}catch{return!1}}I.isInIFrame=Zp;Object.defineProperty($r,"__esModule",{value:!0});$r.Session=void 0;const za=Uh,qa=I,Ga="session:id",Ja="session:secret",Qa="session:linked";class To{constructor(e,r,n,i){this._storage=e,this._id=r||(0,qa.randomBytesHex)(16),this._secret=n||(0,qa.randomBytesHex)(32),this._key=new za.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Ga),n=e.getItem(Qa),i=e.getItem(Ja);return r&&i?new To(e,r,i,n==="1"):null}static hash(e){return new za.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Ga,this._id),this._storage.setItem(Ja,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Qa,this._linked?"1":"0")}}$r.Session=To;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.WalletSDKRelayAbstract=Ye.APP_VERSION_KEY=Ye.LOCAL_STORAGE_ADDRESSES_KEY=Ye.WALLET_USER_NAME_KEY=void 0;const Za=pn;Ye.WALLET_USER_NAME_KEY="walletUsername";Ye.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ye.APP_VERSION_KEY="AppVersion";class Yp{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Za.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Za.serializeError)(s,e.method);return i})}}Ye.WalletSDKRelayAbstract=Yp;const Kp=zh,Xp=bi;function Xu(t){return Buffer.allocUnsafe(t).fill(0)}function el(t,e,r){const n=Xu(e);return t=Si(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function e0(t,e){return el(t,e,!0)}function Si(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")tl(t)?t=Buffer.from(n0(rl(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Xp.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function t0(t){return t=Si(t),"0x"+t.toString("hex")}function r0(t,e){return t=Si(t),e||(e=256),Kp("keccak"+e).update(t).digest()}function n0(t){return t.length%2?"0"+t:t}function tl(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function rl(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var nl={zeros:Xu,setLength:el,setLengthRight:e0,isHexString:tl,stripHexPrefix:rl,toBuffer:Si,bufferToHex:t0,keccak:r0};const Jt=nl,zt=bi;function il(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function pr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ya(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function sl(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Bt(t){var e=typeof t;if(e==="string")return Jt.isHexString(t)?new zt(Jt.stripHexPrefix(t),16):new zt(t,10);if(e==="number")return new zt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function it(t,e){var r,n,i,s;if(t==="address")return it("uint160",Bt(e));if(t==="bool")return it("uint8",e?1:0);if(t==="string")return it("bytes",new Buffer(e,"utf8"));if(s0(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=sl(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(it(t,e[s]));if(r==="dynamic"){var o=it("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([it("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Jt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=pr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Jt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=pr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Bt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=pr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Bt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ya(t),n=Bt(e),n<0)throw new Error("Supplied ufixed is negative");return it("uint256",n.mul(new zt(2).pow(new zt(r[1]))))}else if(t.startsWith("fixed"))return r=Ya(t),it("int256",Bt(e).mul(new zt(2).pow(new zt(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function i0(t){return t==="string"||t==="bytes"||sl(t)==="dynamic"}function s0(t){return t.lastIndexOf("]")===t.length-1}function o0(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=il(t[s]),a=e[s],c=it(o,a);i0(o)?(r.push(it("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function ol(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=il(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Jt.setLength(a,20));else if(o.startsWith("bytes")){if(r=pr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Jt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=pr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Bt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=pr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Bt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function a0(t,e){return Jt.keccak(ol(t,e))}var c0={rawEncode:o0,solidityPack:ol,soliditySHA3:a0};const Je=nl,tn=c0,al={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ss={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Je.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Je.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",Je.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),f=u.map(h=>o(a,l,h));return["bytes32",Je.keccak(tn.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Je.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Je.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Je.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return tn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Je.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Je.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in al.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Je.keccak(Buffer.concat(n))}};var u0={TYPED_MESSAGE_SCHEMA:al,TypedDataUtils:Ss,hashForSignTypedDataLegacy:function(t){return l0(t.data)},hashForSignTypedData_v3:function(t){return Ss.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ss.hash(t.data)}};function l0(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Je.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return tn.soliditySHA3(["bytes32","bytes32"],[tn.soliditySHA3(new Array(t.length).fill("string"),i),tn.soliditySHA3(n,r)])}var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.filterFromParam=wr.FilterPolyfill=void 0;const lr=bn,Ie=I,f0=5*60*1e3,Vt={jsonrpc:"2.0",id:0};class h0{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,lr.IntNumber)(1),this.provider=e}async newFilter(e){const r=cl(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Ie.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ie.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ie.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Ie.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Ie.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(jn())}async getFilterLogs(e){const r=(0,Ie.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_getLogs",params:[Ka(n)]})):jn()}makeFilterId(){return(0,lr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return jn();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Fn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_getLogs",params:[Ka(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Ie.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,lr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return jn();const n=await this.getCurrentBlockHeight();if(r>n)return Fn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Ie.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,lr.IntNumber)(o))))).filter(o=>!!o),s=(0,lr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Vt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Fn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},f0);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_blockNumber",params:[]}));return(0,Ie.intNumberFromHexString)((0,Ie.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Vt),{method:"eth_getBlockByNumber",params:[(0,Ie.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Ie.ensureHexString)(r.result.hash):null}}wr.FilterPolyfill=h0;function cl(t){return{fromBlock:Xa(t.fromBlock),toBlock:Xa(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}wr.filterFromParam=cl;function Ka(t){const e={fromBlock:ec(t.fromBlock),toBlock:ec(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Xa(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,lr.IntNumber)(0);if((0,Ie.isHexString)(t))return(0,Ie.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function ec(t){return t==="latest"?t:(0,Ie.hexStringFromIntNumber)(t)}function jn(){return Object.assign(Object.assign({},Vt),{error:{code:-32e3,message:"filter not found"}})}function Fn(){return Object.assign(Object.assign({},Vt),{result:[]})}var ul={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(ul);var Ei={},ll={},Ci={},Oo=d0;function d0(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const tc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var p0=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):tc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?tc(s,e):s}return n},yn={},b0=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});yn.BaseBlockTracker=void 0;const g0=b0(Xt),m0=1e3,y0=(t,e)=>t+e,rc=["sync","latest"];class v0 extends g0.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*m0,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){rc.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return rc.map(e=>this.listenerCount(e)).reduce(y0)}_newPotentialLatest(e){const r=this._currentBlock;r&&nc(e)<=nc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}yn.BaseBlockTracker=v0;function nc(t){return Number.parseInt(t,16)}var fl={},hl={},_e={};class dl extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function _0(t){return Ue(t)&&typeof t[Symbol.iterator]=="function"}function Ue(t){return typeof t=="object"&&t!=null}function ic(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function de(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function w0(t){const{done:e,value:r}=t.next();return e?void 0:r}function S0(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${de(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*ro(t,e,r,n){_0(t)||(t=[t]);for(const i of t){const s=S0(i,e,r,n);s&&(yield s)}}function*No(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ue(e.schema)&&Ue(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of e.entries(t,a)){const h=No(l,f,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const d of h)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(l=d[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):Ue(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class ce{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return ro(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return ro(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return pl(e,this,r)}create(e,r){return bl(e,this,r)}is(e){return Lo(e,this)}mask(e,r){return gl(e,this,r)}validate(e,r={}){return Dr(e,this,r)}}function pl(t,e,r){const n=Dr(t,e,{message:r});if(n[0])throw n[0]}function bl(t,e,r){const n=Dr(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function gl(t,e,r){const n=Dr(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Lo(t,e){return!Dr(t,e)[0]}function Dr(t,e,r={}){const n=No(t,e,r),i=w0(n);return i[0]?[new dl(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function E0(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Po(n):vn(n)}function Te(t,e){return new ce({type:t,schema:null,validator:e})}function C0(t,e){return new ce({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function I0(t){return new ce({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function R0(t){let e;return new ce({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function x0(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Po(n);default:return vn(n)}}function k0(t){const e=t instanceof ce?{...t.schema}:{...t};for(const r in e)e[r]=ml(e[r]);return vn(e)}function M0(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return vn(n)}function A0(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Te(t,e)}function T0(){return Te("any",()=>!0)}function O0(t){return new ce({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${de(e)}`}})}function N0(){return Te("bigint",t=>typeof t=="bigint")}function L0(){return Te("boolean",t=>typeof t=="boolean")}function $0(){return Te("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${de(t)}`)}function P0(t){const e={},r=t.map(n=>de(n)).join();for(const n of t)e[n]=n;return new ce({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${de(n)}`}})}function D0(){return Te("func",t=>typeof t=="function"||`Expected a function, but received: ${de(t)}`)}function j0(t){return Te("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${de(e)}`)}function F0(){return Te("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${de(t)}`)}function B0(t){return new ce({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function V0(t){const e=de(t),r=typeof t;return new ce({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${de(n)}`}})}function H0(t,e){return new ce({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${de(r)}`}})}function $o(){return Te("never",()=>!1)}function W0(t){return new ce({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function U0(){return Te("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${de(t)}`)}function vn(t){const e=t?Object.keys(t):[],r=$o();return new ce({type:"object",schema:t||null,*entries(n){if(t&&Ue(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Ue(n)||`Expected an object, but received: ${de(n)}`},coercer(n){return Ue(n)?{...n}:n}})}function ml(t){return new ce({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function z0(t,e){return new ce({type:"record",schema:null,*entries(r){if(Ue(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ue(r)||`Expected an object, but received: ${de(r)}`}})}function q0(){return Te("regexp",t=>t instanceof RegExp)}function G0(t){return new ce({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${de(e)}`}})}function yl(){return Te("string",t=>typeof t=="string"||`Expected a string, but received: ${de(t)}`)}function J0(t){const e=$o();return new ce({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${de(r)}`}})}function Po(t){const e=Object.keys(t);return new ce({type:"type",schema:t,*entries(r){if(Ue(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ue(r)||`Expected an object, but received: ${de(r)}`},coercer(r){return Ue(r)?{...r}:r}})}function Q0(t){const e=t.map(r=>r.type).join(" | ");return new ce({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=No(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${de(r)}`,...i]}})}function vl(){return Te("unknown",()=>!0)}function Do(t,e,r){return new ce({...t,coercer:(n,i)=>Lo(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function Z0(t,e,r={}){return Do(t,vl(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&ic(n)&&ic(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function Y0(t){return Do(t,yl(),e=>e.trim())}function K0(t){return tr(t,"empty",e=>{const r=_l(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function _l(t){return t instanceof Map||t instanceof Set?t.size:t.length}function X0(t,e,r={}){const{exclusive:n}=r;return tr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function eb(t,e,r={}){const{exclusive:n}=r;return tr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function tb(t){return tr(t,"nonempty",e=>_l(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function rb(t,e){return tr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function nb(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return tr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function tr(t,e,r){return new ce({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=ro(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const ib=Object.freeze(Object.defineProperty({__proto__:null,Struct:ce,StructError:dl,any:T0,array:O0,assert:pl,assign:E0,bigint:N0,boolean:L0,coerce:Do,create:bl,date:$0,defaulted:Z0,define:Te,deprecated:C0,dynamic:I0,empty:K0,enums:P0,func:D0,instance:j0,integer:F0,intersection:B0,is:Lo,lazy:R0,literal:V0,map:H0,mask:gl,max:X0,min:eb,never:$o,nonempty:tb,nullable:W0,number:U0,object:vn,omit:x0,optional:ml,partial:k0,pattern:rb,pick:M0,record:z0,refine:tr,regexp:q0,set:G0,size:nb,string:yl,struct:A0,trimmed:Y0,tuple:J0,type:Po,union:Q0,unknown:vl,validate:Dr},Symbol.toStringTag,{value:"Module"})),rr=Kt(ib);Object.defineProperty(_e,"__esModule",{value:!0});_e.assertExhaustive=_e.assertStruct=_e.assert=_e.AssertionError=void 0;const sb=rr;function ob(t){return typeof t=="object"&&t!==null&&"message"in t}function ab(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function cb(t){const e=ob(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function wl(t,e){return ab(t)?new t({message:e}):t({message:e})}class jo extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}_e.AssertionError=jo;function ub(t,e="Assertion failed.",r=jo){if(!t)throw e instanceof Error?e:wl(r,e)}_e.assert=ub;function lb(t,e,r="Assertion failed",n=jo){try{(0,sb.assert)(t,e)}catch(i){throw wl(n,`${r}: ${cb(i)}.`)}}_e.assertStruct=lb;function fb(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}_e.assertExhaustive=fb;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.base64=void 0;const hb=rr,db=_e,pb=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,db.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,hb.pattern)(t,a)};_n.base64=pb;var q={},wn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=rr,r=_e;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(wn);Object.defineProperty(q,"__esModule",{value:!0});q.createDataView=q.concatBytes=q.valueToBytes=q.stringToBytes=q.numberToBytes=q.signedBigIntToBytes=q.bigIntToBytes=q.hexToBytes=q.bytesToString=q.bytesToNumber=q.bytesToSignedBigInt=q.bytesToBigInt=q.bytesToHex=q.assertIsBytes=q.isBytes=void 0;const Le=_e,no=wn,sc=48,oc=58,ac=87;function bb(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const gb=bb();function Fo(t){return t instanceof Uint8Array}q.isBytes=Fo;function jr(t){(0,Le.assert)(Fo(t),"Value must be a Uint8Array.")}q.assertIsBytes=jr;function Sl(t){if(jr(t),t.length===0)return"0x";const e=gb(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,no.add0x)(r.join(""))}q.bytesToHex=Sl;function El(t){jr(t);const e=Sl(t);return BigInt(e)}q.bytesToBigInt=El;function mb(t){jr(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}q.bytesToSignedBigInt=mb;function yb(t){jr(t);const e=El(t);return(0,Le.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}q.bytesToNumber=yb;function vb(t){return jr(t),new TextDecoder().decode(t)}q.bytesToString=vb;function Ii(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,no.assertIsHexString)(t);const r=(0,no.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<oc?sc:ac),u=a-(a<oc?sc:ac);i[s]=c*16+u}return i}q.hexToBytes=Ii;function Cl(t){(0,Le.assert)(typeof t=="bigint","Value must be a bigint."),(0,Le.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Ii(e)}q.bigIntToBytes=Cl;function _b(t,e){(0,Le.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function wb(t,e){(0,Le.assert)(typeof t=="bigint","Value must be a bigint."),(0,Le.assert)(typeof e=="number","Byte length must be a number."),(0,Le.assert)(e>0,"Byte length must be greater than 0."),(0,Le.assert)(_b(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}q.signedBigIntToBytes=wb;function Il(t){(0,Le.assert)(typeof t=="number","Value must be a number."),(0,Le.assert)(t>=0,"Value must be a non-negative number."),(0,Le.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Ii(e)}q.numberToBytes=Il;function Rl(t){return(0,Le.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}q.stringToBytes=Rl;function xl(t){if(typeof t=="bigint")return Cl(t);if(typeof t=="number")return Il(t);if(typeof t=="string")return t.startsWith("0x")?Ii(t):Rl(t);if(Fo(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}q.valueToBytes=xl;function Sb(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=xl(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}q.concatBytes=Sb;function Eb(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}q.createDataView=Eb;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.ChecksumStruct=void 0;const cc=rr,Cb=_n;Ri.ChecksumStruct=(0,cc.size)((0,Cb.base64)((0,cc.string)(),{paddingRequired:!0}),44,44);var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.createHex=ct.createBytes=ct.createBigInt=ct.createNumber=void 0;const ne=rr,Ib=_e,kl=q,xi=wn,Ml=(0,ne.union)([(0,ne.number)(),(0,ne.bigint)(),(0,ne.string)(),xi.StrictHexStruct]),Rb=(0,ne.coerce)((0,ne.number)(),Ml,Number),xb=(0,ne.coerce)((0,ne.bigint)(),Ml,BigInt);(0,ne.union)([xi.StrictHexStruct,(0,ne.instance)(Uint8Array)]);const kb=(0,ne.coerce)((0,ne.instance)(Uint8Array),(0,ne.union)([xi.StrictHexStruct]),kl.hexToBytes),Mb=(0,ne.coerce)(xi.StrictHexStruct,(0,ne.instance)(Uint8Array),kl.bytesToHex);function Ab(t){try{const e=(0,ne.create)(t,Rb);return(0,Ib.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof ne.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ct.createNumber=Ab;function Tb(t){try{return(0,ne.create)(t,xb)}catch(e){throw e instanceof ne.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ct.createBigInt=Tb;function Ob(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,ne.create)(t,kb)}catch(e){throw e instanceof ne.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ct.createBytes=Ob;function Nb(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,ne.create)(t,Mb)}catch(e){throw e instanceof ne.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ct.createHex=Nb;var Sr={},Al=k&&k.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Re=k&&k.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},qe,tt;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.FrozenSet=Sr.FrozenMap=void 0;class Bo{constructor(e){qe.set(this,void 0),Al(this,qe,new Map(e),"f"),Object.freeze(this)}get size(){return Re(this,qe,"f").size}[(qe=new WeakMap,Symbol.iterator)](){return Re(this,qe,"f")[Symbol.iterator]()}entries(){return Re(this,qe,"f").entries()}forEach(e,r){return Re(this,qe,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Re(this,qe,"f").get(e)}has(e){return Re(this,qe,"f").has(e)}keys(){return Re(this,qe,"f").keys()}values(){return Re(this,qe,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Sr.FrozenMap=Bo;class Vo{constructor(e){tt.set(this,void 0),Al(this,tt,new Set(e),"f"),Object.freeze(this)}get size(){return Re(this,tt,"f").size}[(tt=new WeakMap,Symbol.iterator)](){return Re(this,tt,"f")[Symbol.iterator]()}entries(){return Re(this,tt,"f").entries()}forEach(e,r){return Re(this,tt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Re(this,tt,"f").has(e)}keys(){return Re(this,tt,"f").keys()}values(){return Re(this,tt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Sr.FrozenSet=Vo;Object.freeze(Bo);Object.freeze(Bo.prototype);Object.freeze(Vo);Object.freeze(Vo.prototype);var Tl={},Ho={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((h,d)=>o(d)?h+1:h+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(Ho);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=rr,r=_e,n=Ho;t.JsonStruct=(0,e.define)("Json",E=>{const[O]=R(E,!0);return O?!0:"Expected a valid JSON-serializable value"});function i(E){return(0,e.is)(E,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(E){return(0,e.is)(E,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(E,O){(0,r.assertStruct)(E,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",O)}t.assertIsJsonRpcNotification=o;function a(E){return(0,e.is)(E,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(E,O){(0,r.assertStruct)(E,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",O)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(E){return(0,e.is)(E,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(E,O){(0,r.assertStruct)(E,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",O)}t.assertIsPendingJsonRpcResponse=l;function f(E){return(0,e.is)(E,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function h(E,O){(0,r.assertStruct)(E,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",O)}t.assertIsJsonRpcResponse=h;function d(E){return(0,e.is)(E,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function p(E,O){(0,r.assertStruct)(E,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",O)}t.assertIsJsonRpcSuccess=p;function v(E){return(0,e.is)(E,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=v;function y(E,O){(0,r.assertStruct)(E,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",O)}t.assertIsJsonRpcFailure=y;function b(E){return(0,e.is)(E,t.JsonRpcErrorStruct)}t.isJsonRpcError=b;function m(E,O){(0,r.assertStruct)(E,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",O)}t.assertIsJsonRpcError=m;function w(E){const{permitEmptyString:O,permitFractions:H,permitNull:X}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},E);return B=>!!(typeof B=="number"&&(H||Number.isInteger(B))||typeof B=="string"&&(O||B.length>0)||X&&B===null)}t.getJsonRpcIdValidator=w;function R(E,O=!1){const H=new Set;function X(T,B){if(T===void 0)return[!1,0];if(T===null)return[!0,B?0:n.JsonSize.Null];const ue=typeof T;try{if(ue==="function")return[!1,0];if(ue==="string"||T instanceof String)return[!0,B?0:(0,n.calculateStringSize)(T)+n.JsonSize.Quote*2];if(ue==="boolean"||T instanceof Boolean)return B?[!0,0]:[!0,T==!0?n.JsonSize.True:n.JsonSize.False];if(ue==="number"||T instanceof Number)return B?[!0,0]:[!0,(0,n.calculateNumberSize)(T)];if(T instanceof Date)return B?[!0,0]:[!0,isNaN(T.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(T)&&!Array.isArray(T))return[!1,0];if(H.has(T))return[!1,0];H.add(T);try{return[!0,Object.entries(T).reduce((z,[S,_],A,C)=>{let[N,x]=X(_,B);if(!N)throw new Error("JSON validation did not pass. Validation process stopped.");if(H.delete(T),B)return 0;const D=Array.isArray(T)?0:S.length+n.JsonSize.Comma+n.JsonSize.Colon*2,J=A<C.length-1?n.JsonSize.Comma:0;return z+D+x+J},B?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return X(E,O)}t.validateJsonAndGetSize=R})(Tl);var Er={},io={exports:{}},Es,uc;function Lb(){if(uc)return Es;uc=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Es=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return f.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),d=(f[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(l){var f=Math.abs(l);return f>=n?Math.round(l/n)+"d":f>=r?Math.round(l/r)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var f=Math.abs(l);return f>=n?u(l,f,n,"day"):f>=r?u(l,f,r,"hour"):f>=e?u(l,f,e,"minute"):f>=t?u(l,f,t,"second"):l+" ms"}function u(l,f,h,d){var p=f>=h*1.5;return Math.round(l/h)+" "+d+(p?"s":"")}return Es}function $b(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Lb(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let h=0;h<l.length;h++)f=(f<<5)-f+l.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,h=null,d,p;function v(...y){if(!v.enabled)return;const b=v,m=Number(new Date),w=m-(f||m);b.diff=w,b.prev=f,b.curr=m,f=m,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let R=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(O,H)=>{if(O==="%%")return"%";R++;const X=r.formatters[H];if(typeof X=="function"){const T=y[R];O=X.call(b,T),y.splice(R,1),R--}return O}),r.formatArgs.call(b,y),(b.log||r.log).apply(b,y)}return v.namespace=l,v.useColors=r.useColors(),v.color=r.selectColor(l),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(l)),p),set:y=>{h=y}}),typeof r.init=="function"&&r.init(v),v}function n(l,f){const h=r(this.namespace+(typeof f>"u"?":":f)+l);return h.log=this.log,h}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f;const h=(typeof l=="string"?l:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)h[f]&&(l=h[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(l))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Pb=$b;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;u.splice(1,0,l,"color: inherit");let f=0,h=0;u[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(f++,d==="%c"&&(h=f))}),u.splice(h,0,l)}e.log=console.debug||console.log||(()=>{});function s(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function o(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function a(){try{return localStorage}catch{}}t.exports=Pb(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(io,io.exports);var Db=io.exports,jb=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.createModuleLogger=Er.createProjectLogger=void 0;const Fb=jb(Db),Bb=(0,Fb.default)("metamask");function Vb(t){return Bb.extend(t)}Er.createProjectLogger=Vb;function Hb(t,e){return t.extend(e)}Er.createModuleLogger=Hb;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.hexToBigInt=ut.hexToNumber=ut.bigIntToHex=ut.numberToHex=void 0;const br=_e,un=wn,Wb=t=>((0,br.assert)(typeof t=="number","Value must be a number."),(0,br.assert)(t>=0,"Value must be a non-negative number."),(0,br.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,un.add0x)(t.toString(16)));ut.numberToHex=Wb;const Ub=t=>((0,br.assert)(typeof t=="bigint","Value must be a bigint."),(0,br.assert)(t>=0,"Value must be a non-negative bigint."),(0,un.add0x)(t.toString(16)));ut.bigIntToHex=Ub;const zb=t=>{(0,un.assertIsHexString)(t);const e=parseInt(t,16);return(0,br.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};ut.hexToNumber=zb;const qb=t=>((0,un.assertIsHexString)(t),BigInt((0,un.add0x)(t)));ut.hexToBigInt=qb;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});var Nl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Nl);var Ll={},so={exports:{}};const Gb="2.0.0",$l=256,Jb=Number.MAX_SAFE_INTEGER||9007199254740991,Qb=16,Zb=$l-6,Yb=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ki={MAX_LENGTH:$l,MAX_SAFE_COMPONENT_LENGTH:Qb,MAX_SAFE_BUILD_LENGTH:Zb,MAX_SAFE_INTEGER:Jb,RELEASE_TYPES:Yb,SEMVER_SPEC_VERSION:Gb,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Cs={};const Kb=typeof process=="object"&&Cs&&Cs.NODE_DEBUG&&/\bsemver\b/i.test(Cs.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Mi=Kb;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ki,s=Mi;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.t={};let l=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,n]],d=v=>{for(const[y,b]of h)v=v.split(`${y}*`).join(`${y}{0,${b}}`).split(`${y}+`).join(`${y}{1,${b}}`);return v},p=(v,y,b)=>{const m=d(y),w=l++;s(v,w,y),u[v]=w,c[w]=y,o[w]=new RegExp(y,b?"g":void 0),a[w]=new RegExp(m,b?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),p("FULL",`^${c[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),p("LOOSE",`^${c[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),p("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),p("COERCERTL",c[u.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(so,so.exports);var Sn=so.exports;const Xb=Object.freeze({loose:!0}),eg=Object.freeze({}),tg=t=>t?typeof t!="object"?Xb:t:eg;var Wo=tg;const lc=/^[0-9]+$/,Pl=(t,e)=>{const r=lc.test(t),n=lc.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},rg=(t,e)=>Pl(e,t);var Dl={compareIdentifiers:Pl,rcompareIdentifiers:rg};const Bn=Mi,{MAX_LENGTH:fc,MAX_SAFE_INTEGER:Vn}=ki,{safeRe:hc,t:dc}=Sn,ng=Wo,{compareIdentifiers:sr}=Dl;let ig=class nt{constructor(e,r){if(r=ng(r),e instanceof nt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>fc)throw new TypeError(`version is longer than ${fc} characters`);Bn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?hc[dc.LOOSE]:hc[dc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Vn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Vn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Vn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Vn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Bn("SemVer.compare",this.version,this.options,e),!(e instanceof nt)){if(typeof e=="string"&&e===this.version)return 0;e=new nt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof nt||(e=new nt(e,this.options)),sr(this.major,e.major)||sr(this.minor,e.minor)||sr(this.patch,e.patch)}comparePre(e){if(e instanceof nt||(e=new nt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return sr(n,i)}while(++r)}compareBuild(e){e instanceof nt||(e=new nt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return sr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),sr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Me=ig;const pc=Me,sg=(t,e,r=!1)=>{if(t instanceof pc)return t;try{return new pc(t,e)}catch(n){if(!r)return null;throw n}};var Fr=sg;const og=Fr,ag=(t,e)=>{const r=og(t,e);return r?r.version:null};var cg=ag;const ug=Fr,lg=(t,e)=>{const r=ug(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var fg=lg;const bc=Me,hg=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new bc(t instanceof bc?t.version:t,r).inc(e,n,i).version}catch{return null}};var dg=hg;const gc=Fr,pg=(t,e)=>{const r=gc(t,null,!0),n=gc(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var bg=pg;const gg=Me,mg=(t,e)=>new gg(t,e).major;var yg=mg;const vg=Me,_g=(t,e)=>new vg(t,e).minor;var wg=_g;const Sg=Me,Eg=(t,e)=>new Sg(t,e).patch;var Cg=Eg;const Ig=Fr,Rg=(t,e)=>{const r=Ig(t,e);return r&&r.prerelease.length?r.prerelease:null};var xg=Rg;const mc=Me,kg=(t,e,r)=>new mc(t,r).compare(new mc(e,r));var Ke=kg;const Mg=Ke,Ag=(t,e,r)=>Mg(e,t,r);var Tg=Ag;const Og=Ke,Ng=(t,e)=>Og(t,e,!0);var Lg=Ng;const yc=Me,$g=(t,e,r)=>{const n=new yc(t,r),i=new yc(e,r);return n.compare(i)||n.compareBuild(i)};var Uo=$g;const Pg=Uo,Dg=(t,e)=>t.sort((r,n)=>Pg(r,n,e));var jg=Dg;const Fg=Uo,Bg=(t,e)=>t.sort((r,n)=>Fg(n,r,e));var Vg=Bg;const Hg=Ke,Wg=(t,e,r)=>Hg(t,e,r)>0;var Ai=Wg;const Ug=Ke,zg=(t,e,r)=>Ug(t,e,r)<0;var zo=zg;const qg=Ke,Gg=(t,e,r)=>qg(t,e,r)===0;var jl=Gg;const Jg=Ke,Qg=(t,e,r)=>Jg(t,e,r)!==0;var Fl=Qg;const Zg=Ke,Yg=(t,e,r)=>Zg(t,e,r)>=0;var qo=Yg;const Kg=Ke,Xg=(t,e,r)=>Kg(t,e,r)<=0;var Go=Xg;const em=jl,tm=Fl,rm=Ai,nm=qo,im=zo,sm=Go,om=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return em(t,r,n);case"!=":return tm(t,r,n);case">":return rm(t,r,n);case">=":return nm(t,r,n);case"<":return im(t,r,n);case"<=":return sm(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Bl=om;const am=Me,cm=Fr,{safeRe:Hn,t:Wn}=Sn,um=(t,e)=>{if(t instanceof am)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Hn[Wn.COERCE]);else{let n;for(;(n=Hn[Wn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Hn[Wn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Hn[Wn.COERCERTL].lastIndex=-1}return r===null?null:cm(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var lm=um,Is,vc;function fm(){return vc||(vc=1,Is=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Is}var hm=G;G.Node=Qt;G.create=G;function G(t){var e=this;if(e instanceof G||(e=new G),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}G.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};G.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};G.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};G.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)pm(this,arguments[t]);return this.length};G.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)bm(this,arguments[t]);return this.length};G.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};G.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};G.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};G.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};G.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};G.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};G.prototype.map=function(t,e){e=e||this;for(var r=new G,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};G.prototype.mapReverse=function(t,e){e=e||this;for(var r=new G,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};G.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};G.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};G.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};G.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};G.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new G;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};G.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new G;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};G.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=dm(this,i,r[n]);return s};G.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function dm(t,e,r){var n=e===t.head?new Qt(r,null,e,t):new Qt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function pm(t,e){t.tail=new Qt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function bm(t,e){t.head=new Qt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Qt(t,e,r,n){if(!(this instanceof Qt))return new Qt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{fm()(G)}catch{}const gm=hm,Ht=Symbol("max"),gt=Symbol("length"),or=Symbol("lengthCalculator"),rn=Symbol("allowStale"),qt=Symbol("maxAge"),dt=Symbol("dispose"),_c=Symbol("noDisposeOnSet"),be=Symbol("lruList"),Qe=Symbol("cache"),Vl=Symbol("updateAgeOnGet"),Rs=()=>1;class mm{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Ht]=e.max||1/0;const r=e.length||Rs;if(this[or]=typeof r!="function"?Rs:r,this[rn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[qt]=e.maxAge||0,this[dt]=e.dispose,this[_c]=e.noDisposeOnSet||!1,this[Vl]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ht]=e||1/0,Gr(this)}get max(){return this[Ht]}set allowStale(e){this[rn]=!!e}get allowStale(){return this[rn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[qt]=e,Gr(this)}get maxAge(){return this[qt]}set lengthCalculator(e){typeof e!="function"&&(e=Rs),e!==this[or]&&(this[or]=e,this[gt]=0,this[be].forEach(r=>{r.length=this[or](r.value,r.key),this[gt]+=r.length})),Gr(this)}get lengthCalculator(){return this[or]}get length(){return this[gt]}get itemCount(){return this[be].length}rforEach(e,r){r=r||this;for(let n=this[be].tail;n!==null;){const i=n.prev;wc(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[be].head;n!==null;){const i=n.next;wc(this,e,n,r),n=i}}keys(){return this[be].toArray().map(e=>e.key)}values(){return this[be].toArray().map(e=>e.value)}reset(){this[dt]&&this[be]&&this[be].length&&this[be].forEach(e=>this[dt](e.key,e.value)),this[Qe]=new Map,this[be]=new gm,this[gt]=0}dump(){return this[be].map(e=>si(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[be]}set(e,r,n){if(n=n||this[qt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[or](r,e);if(this[Qe].has(e)){if(s>this[Ht])return gr(this,this[Qe].get(e)),!1;const c=this[Qe].get(e).value;return this[dt]&&(this[_c]||this[dt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[gt]+=s-c.length,c.length=s,this.get(e),Gr(this),!0}const o=new ym(e,r,s,i,n);return o.length>this[Ht]?(this[dt]&&this[dt](e,r),!1):(this[gt]+=o.length,this[be].unshift(o),this[Qe].set(e,this[be].head),Gr(this),!0)}has(e){if(!this[Qe].has(e))return!1;const r=this[Qe].get(e).value;return!si(this,r)}get(e){return xs(this,e,!0)}peek(e){return xs(this,e,!1)}pop(){const e=this[be].tail;return e?(gr(this,e),e.value):null}del(e){gr(this,this[Qe].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Qe].forEach((e,r)=>xs(this,r,!1))}}const xs=(t,e,r)=>{const n=t[Qe].get(e);if(n){const i=n.value;if(si(t,i)){if(gr(t,n),!t[rn])return}else r&&(t[Vl]&&(n.value.now=Date.now()),t[be].unshiftNode(n));return i.value}},si=(t,e)=>{if(!e||!e.maxAge&&!t[qt])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[qt]&&r>t[qt]},Gr=t=>{if(t[gt]>t[Ht])for(let e=t[be].tail;t[gt]>t[Ht]&&e!==null;){const r=e.prev;gr(t,e),e=r}},gr=(t,e)=>{if(e){const r=e.value;t[dt]&&t[dt](r.key,r.value),t[gt]-=r.length,t[Qe].delete(r.key),t[be].removeNode(e)}};class ym{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const wc=(t,e,r,n)=>{let i=r.value;si(t,i)&&(gr(t,r),t[rn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var vm=mm,ks,Sc;function Xe(){if(Sc)return ks;Sc=1;class t{constructor(_,A){if(A=n(A),_ instanceof t)return _.loose===!!A.loose&&_.includePrerelease===!!A.includePrerelease?_:new t(_.raw,A);if(_ instanceof i)return this.raw=_.value,this.set=[[_]],this.format(),this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=_.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(C=>this.parseRange(C.trim())).filter(C=>C.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const C=this.set[0];if(this.set=this.set.filter(N=>!p(N[0])),this.set.length===0)this.set=[C];else if(this.set.length>1){for(const N of this.set)if(N.length===1&&v(N[0])){this.set=[N];break}}}this.format()}format(){return this.range=this.set.map(_=>_.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(_){const C=((this.options.includePrerelease&&h)|(this.options.loose&&d))+":"+_,N=r.get(C);if(N)return N;const x=this.options.loose,D=x?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];_=_.replace(D,ue(this.options.includePrerelease)),s("hyphen replace",_),_=_.replace(a[c.COMPARATORTRIM],u),s("comparator trim",_),_=_.replace(a[c.TILDETRIM],l),s("tilde trim",_),_=_.replace(a[c.CARETTRIM],f),s("caret trim",_);let J=_.split(" ").map(le=>b(le,this.options)).join(" ").split(/\s+/).map(le=>B(le,this.options));x&&(J=J.filter(le=>(s("loose invalid filter",le,this.options),!!le.match(a[c.COMPARATORLOOSE])))),s("range list",J);const W=new Map,te=J.map(le=>new i(le,this.options));for(const le of te){if(p(le))return[le];W.set(le.value,le)}W.size>1&&W.has("")&&W.delete("");const Oe=[...W.values()];return r.set(C,Oe),Oe}intersects(_,A){if(!(_ instanceof t))throw new TypeError("a Range is required");return this.set.some(C=>y(C,A)&&_.set.some(N=>y(N,A)&&C.every(x=>N.every(D=>x.intersects(D,A)))))}test(_){if(!_)return!1;if(typeof _=="string")try{_=new o(_,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(z(this.set[A],_,this.options))return!0;return!1}}ks=t;const e=vm,r=new e({max:1e3}),n=Wo,i=Ti(),s=Mi,o=Me,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:f}=Sn,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:d}=ki,p=S=>S.value==="<0.0.0-0",v=S=>S.value==="",y=(S,_)=>{let A=!0;const C=S.slice();let N=C.pop();for(;A&&C.length;)A=C.every(x=>N.intersects(x,_)),N=C.pop();return A},b=(S,_)=>(s("comp",S,_),S=E(S,_),s("caret",S),S=w(S,_),s("tildes",S),S=H(S,_),s("xrange",S),S=T(S,_),s("stars",S),S),m=S=>!S||S.toLowerCase()==="x"||S==="*",w=(S,_)=>S.trim().split(/\s+/).map(A=>R(A,_)).join(" "),R=(S,_)=>{const A=_.loose?a[c.TILDELOOSE]:a[c.TILDE];return S.replace(A,(C,N,x,D,J)=>{s("tilde",S,C,N,x,D,J);let W;return m(N)?W="":m(x)?W=`>=${N}.0.0 <${+N+1}.0.0-0`:m(D)?W=`>=${N}.${x}.0 <${N}.${+x+1}.0-0`:J?(s("replaceTilde pr",J),W=`>=${N}.${x}.${D}-${J} <${N}.${+x+1}.0-0`):W=`>=${N}.${x}.${D} <${N}.${+x+1}.0-0`,s("tilde return",W),W})},E=(S,_)=>S.trim().split(/\s+/).map(A=>O(A,_)).join(" "),O=(S,_)=>{s("caret",S,_);const A=_.loose?a[c.CARETLOOSE]:a[c.CARET],C=_.includePrerelease?"-0":"";return S.replace(A,(N,x,D,J,W)=>{s("caret",S,N,x,D,J,W);let te;return m(x)?te="":m(D)?te=`>=${x}.0.0${C} <${+x+1}.0.0-0`:m(J)?x==="0"?te=`>=${x}.${D}.0${C} <${x}.${+D+1}.0-0`:te=`>=${x}.${D}.0${C} <${+x+1}.0.0-0`:W?(s("replaceCaret pr",W),x==="0"?D==="0"?te=`>=${x}.${D}.${J}-${W} <${x}.${D}.${+J+1}-0`:te=`>=${x}.${D}.${J}-${W} <${x}.${+D+1}.0-0`:te=`>=${x}.${D}.${J}-${W} <${+x+1}.0.0-0`):(s("no pr"),x==="0"?D==="0"?te=`>=${x}.${D}.${J}${C} <${x}.${D}.${+J+1}-0`:te=`>=${x}.${D}.${J}${C} <${x}.${+D+1}.0-0`:te=`>=${x}.${D}.${J} <${+x+1}.0.0-0`),s("caret return",te),te})},H=(S,_)=>(s("replaceXRanges",S,_),S.split(/\s+/).map(A=>X(A,_)).join(" ")),X=(S,_)=>{S=S.trim();const A=_.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return S.replace(A,(C,N,x,D,J,W)=>{s("xRange",S,C,N,x,D,J,W);const te=m(x),Oe=te||m(D),le=Oe||m(J),Ur=le;return N==="="&&Ur&&(N=""),W=_.includePrerelease?"-0":"",te?N===">"||N==="<"?C="<0.0.0-0":C="*":N&&Ur?(Oe&&(D=0),J=0,N===">"?(N=">=",Oe?(x=+x+1,D=0,J=0):(D=+D+1,J=0)):N==="<="&&(N="<",Oe?x=+x+1:D=+D+1),N==="<"&&(W="-0"),C=`${N+x}.${D}.${J}${W}`):Oe?C=`>=${x}.0.0${W} <${+x+1}.0.0-0`:le&&(C=`>=${x}.${D}.0${W} <${x}.${+D+1}.0-0`),s("xRange return",C),C})},T=(S,_)=>(s("replaceStars",S,_),S.trim().replace(a[c.STAR],"")),B=(S,_)=>(s("replaceGTE0",S,_),S.trim().replace(a[_.includePrerelease?c.GTE0PRE:c.GTE0],"")),ue=S=>(_,A,C,N,x,D,J,W,te,Oe,le,Ur,a5)=>(m(C)?A="":m(N)?A=`>=${C}.0.0${S?"-0":""}`:m(x)?A=`>=${C}.${N}.0${S?"-0":""}`:D?A=`>=${A}`:A=`>=${A}${S?"-0":""}`,m(te)?W="":m(Oe)?W=`<${+te+1}.0.0-0`:m(le)?W=`<${te}.${+Oe+1}.0-0`:Ur?W=`<=${te}.${Oe}.${le}-${Ur}`:S?W=`<${te}.${Oe}.${+le+1}-0`:W=`<=${W}`,`${A} ${W}`.trim()),z=(S,_,A)=>{for(let C=0;C<S.length;C++)if(!S[C].test(_))return!1;if(_.prerelease.length&&!A.includePrerelease){for(let C=0;C<S.length;C++)if(s(S[C].semver),S[C].semver!==i.ANY&&S[C].semver.prerelease.length>0){const N=S[C].semver;if(N.major===_.major&&N.minor===_.minor&&N.patch===_.patch)return!0}return!1}return!0};return ks}var Ms,Ec;function Ti(){if(Ec)return Ms;Ec=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,f){if(f=r(f),l instanceof e){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=l.match(f);if(!h)throw new TypeError(`Invalid comparator: ${l}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,f).test(l.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Ms=e;const r=Wo,{safeRe:n,t:i}=Sn,s=Bl,o=Mi,a=Me,c=Xe();return Ms}const _m=Xe(),wm=(t,e,r)=>{try{e=new _m(e,r)}catch{return!1}return e.test(t)};var Oi=wm;const Sm=Xe(),Em=(t,e)=>new Sm(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Cm=Em;const Im=Me,Rm=Xe(),xm=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Rm(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Im(n,r))}),n};var km=xm;const Mm=Me,Am=Xe(),Tm=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Am(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Mm(n,r))}),n};var Om=Tm;const As=Me,Nm=Xe(),Cc=Ai,Lm=(t,e)=>{t=new Nm(t,e);let r=new As("0.0.0");if(t.test(r)||(r=new As("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new As(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Cc(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Cc(r,s))&&(r=s)}return r&&t.test(r)?r:null};var $m=Lm;const Pm=Xe(),Dm=(t,e)=>{try{return new Pm(t,e).range||"*"}catch{return null}};var jm=Dm;const Fm=Me,Hl=Ti(),{ANY:Bm}=Hl,Vm=Xe(),Hm=Oi,Ic=Ai,Rc=zo,Wm=Go,Um=qo,zm=(t,e,r,n)=>{t=new Fm(t,n),e=new Vm(e,n);let i,s,o,a,c;switch(r){case">":i=Ic,s=Wm,o=Rc,a=">",c=">=";break;case"<":i=Rc,s=Um,o=Ic,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Hm(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let f=null,h=null;if(l.forEach(d=>{d.semver===Bm&&(d=new Hl(">=0.0.0")),f=f||d,h=h||d,i(d.semver,f.semver,n)?f=d:o(d.semver,h.semver,n)&&(h=d)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0};var Jo=zm;const qm=Jo,Gm=(t,e,r)=>qm(t,e,">",r);var Jm=Gm;const Qm=Jo,Zm=(t,e,r)=>Qm(t,e,"<",r);var Ym=Zm;const xc=Xe(),Km=(t,e,r)=>(t=new xc(t,r),e=new xc(e,r),t.intersects(e,r));var Xm=Km;const ey=Oi,ty=Ke;var ry=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,f)=>ty(l,f,r));for(const l of o)ey(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,f]of n)l===f?a.push(l):!f&&l===o[0]?a.push("*"):f?l===o[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const kc=Xe(),Qo=Ti(),{ANY:Ts}=Qo,Jr=Oi,Zo=Ke,ny=(t,e,r={})=>{if(t===e)return!0;t=new kc(t,r),e=new kc(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=sy(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},iy=[new Qo(">=0.0.0-0")],Mc=[new Qo(">=0.0.0")],sy=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ts){if(e.length===1&&e[0].semver===Ts)return!0;r.includePrerelease?t=iy:t=Mc}if(e.length===1&&e[0].semver===Ts){if(r.includePrerelease)return!0;e=Mc}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Ac(i,d,r):d.operator==="<"||d.operator==="<="?s=Tc(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Zo(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!Jr(d,String(i),r)||s&&!Jr(d,String(s),r))return null;for(const p of e)if(!Jr(d,String(p),r))return!1;return!0}let a,c,u,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of e){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(a=Ac(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!Jr(i.semver,String(d),r))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(c=Tc(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!Jr(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||h||f)},Ac=(t,e,r)=>{if(!t)return e;const n=Zo(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Tc=(t,e,r)=>{if(!t)return e;const n=Zo(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var oy=ny;const Os=Sn,Oc=ki,ay=Me,Nc=Dl,cy=Fr,uy=cg,ly=fg,fy=dg,hy=bg,dy=yg,py=wg,by=Cg,gy=xg,my=Ke,yy=Tg,vy=Lg,_y=Uo,wy=jg,Sy=Vg,Ey=Ai,Cy=zo,Iy=jl,Ry=Fl,xy=qo,ky=Go,My=Bl,Ay=lm,Ty=Ti(),Oy=Xe(),Ny=Oi,Ly=Cm,$y=km,Py=Om,Dy=$m,jy=jm,Fy=Jo,By=Jm,Vy=Ym,Hy=Xm,Wy=ry,Uy=oy;var zy={parse:cy,valid:uy,clean:ly,inc:fy,diff:hy,major:dy,minor:py,patch:by,prerelease:gy,compare:my,rcompare:yy,compareLoose:vy,compareBuild:_y,sort:wy,rsort:Sy,gt:Ey,lt:Cy,eq:Iy,neq:Ry,gte:xy,lte:ky,cmp:My,coerce:Ay,Comparator:Ty,Range:Oy,satisfies:Ny,toComparators:Ly,maxSatisfying:$y,minSatisfying:Py,minVersion:Dy,validRange:jy,outside:Fy,gtr:By,ltr:Vy,intersects:Hy,simplifyRange:Wy,subset:Uy,SemVer:ay,re:Os.re,src:Os.src,tokens:Os.t,SEMVER_SPEC_VERSION:Oc.SEMVER_SPEC_VERSION,RELEASE_TYPES:Oc.RELEASE_TYPES,compareIdentifiers:Nc.compareIdentifiers,rcompareIdentifiers:Nc.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=zy,r=rr,n=_e;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,r.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,r.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,n.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,n.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(f,h){return(0,e.gt)(f,h)}t.gtVersion=c;function u(f,h){return(0,e.gtr)(f,h)}t.gtRange=u;function l(f,h){return(0,e.satisfies)(f,h,{includePrerelease:!0})}t.satisfiesVersionRange=l})(Ll);(function(t){var e=k&&k.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=k&&k.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_e,t),r(_n,t),r(q,t),r(Ri,t),r(ct,t),r(Sr,t),r(wn,t),r(Tl,t),r(Er,t),r(Ho,t),r(ut,t),r(Ol,t),r(Nl,t),r(Ll,t)})(hl);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=hl;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(fl);var Wl=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.PollingBlockTracker=void 0;const qy=Wl(Oo),Gy=Wl(p0),Jy=yn,Lc=fl,$c=(0,Lc.createModuleLogger)(Lc.projectLogger,"polling-block-tracker"),Qy=(0,qy.default)(),Zy=1e3;class Yy extends Jy.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*Zy,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Pc(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Pc(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:Qy(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),$c("Making request",e);const r=await(0,Gy.default)(n=>this._provider.sendAsync(e,n))();if($c("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Ci.PollingBlockTracker=Yy;function Pc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ni={},Ky=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.SubscribeBlockTracker=void 0;const Xy=Ky(Oo),ev=yn,tv=(0,Xy.default)();class rv extends ev.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:tv(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Ni.SubscribeBlockTracker=rv;var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});(function(t){var e=k&&k.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=k&&k.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ci,t),r(Ni,t),r(Ul,t)})(ll);var Yo={},Li={},En={};Object.defineProperty(En,"__esModule",{value:!0});En.getUniqueId=void 0;const zl=4294967295;let Ns=Math.floor(Math.random()*zl);function nv(){return Ns=(Ns+1)%zl,Ns}En.getUniqueId=nv;Object.defineProperty(Li,"__esModule",{value:!0});Li.createIdRemapMiddleware=void 0;const iv=En;function sv(){return(t,e,r,n)=>{const i=t.id,s=iv.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Li.createIdRemapMiddleware=sv;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.createAsyncMiddleware=void 0;function ov(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}$i.createAsyncMiddleware=ov;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.createScaffoldMiddleware=void 0;function av(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Pi.createScaffoldMiddleware=av;var Cn={},cv=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.JsonRpcEngine=void 0;const uv=cv(Xt),je=wo;class pt extends uv.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await pt._runAllMiddleware(e,r,this._middleware);return o?(await pt._runReturnHandlers(a),i(s)):n(async c=>{try{await pt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new je.EthereumRpcError(je.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new je.EthereumRpcError(je.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=je.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await pt._runAllMiddleware(e,r,this._middleware);if(pt._checkForCompletion(e,r,i),await pt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await pt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=je.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new je.EthereumRpcError(je.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ls(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new je.EthereumRpcError(je.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ls(e)}`,{request:e});if(!n)throw new je.EthereumRpcError(je.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ls(e)}`,{request:e})}}Cn.JsonRpcEngine=pt;function Ls(t){return JSON.stringify(t,null,2)}var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.mergeMiddleware=void 0;const lv=Cn;function fv(t){const e=new lv.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Di.mergeMiddleware=fv;(function(t){var e=k&&k.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=k&&k.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Li,t),r($i,t),r(Pi,t),r(En,t),r(Cn,t),r(Di,t)})(Yo);var ql={},Ko={},oo=function(t,e){return oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},oo(t,e)};function Gl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oi=function(){return oi=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},oi.apply(this,arguments)};function Jl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ql(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Zl(t,e){return function(r,n){e(r,n,t)}}function hv(t,e,r,n,i,s){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,d=r.length-1;d>=0;d--){var p={};for(var v in n)p[v]=v==="access"?{}:n[v];for(var v in n.access)p.access[v]=n.access[v];p.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(b||null))};var y=(0,r[d])(a==="accessor"?{get:l.get,set:l.set}:l[c],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(l.get=f),(f=o(y.set))&&(l.set=f),(f=o(y.init))&&i.unshift(f)}else(f=o(y))&&(a==="field"?i.unshift(f):l[c]=f)}u&&Object.defineProperty(u,n.name,l),h=!0}function dv(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function pv(t){return typeof t=="symbol"?t:"".concat(t)}function bv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Yl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Kl(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Xl(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ji=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function ef(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ji(e,t,r)}function ai(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xo(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function tf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xo(arguments[e]));return t}function rf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function nf(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Cr(t){return this instanceof Cr?(this.v=t,this):new Cr(t)}function sf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(d){return new Promise(function(p,v){s.push([h,d,p,v])>1||a(h,d)})})}function a(h,d){try{c(n[h](d))}catch(p){f(s[0][3],p)}}function c(h){h.value instanceof Cr?Promise.resolve(h.value.v).then(u,l):f(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function f(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function of(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Cr(t[i](o)),done:!1}:s?s(o):o}:s}}function af(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ai=="function"?ai(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function cf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var gv=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function uf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ji(e,t,r);return gv(e,t),e}function lf(t){return t&&t.__esModule?t:{default:t}}function ff(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function hf(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function df(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function pf(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var mv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function bf(t){function e(n){t.error=t.hasError?new mv(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}const yv={__extends:Gl,__assign:oi,__rest:Jl,__decorate:Ql,__param:Zl,__metadata:Yl,__awaiter:Kl,__generator:Xl,__createBinding:ji,__exportStar:ef,__values:ai,__read:Xo,__spread:tf,__spreadArrays:rf,__spreadArray:nf,__await:Cr,__asyncGenerator:sf,__asyncDelegator:of,__asyncValues:af,__makeTemplateObject:cf,__importStar:uf,__importDefault:lf,__classPrivateFieldGet:ff,__classPrivateFieldSet:hf,__classPrivateFieldIn:df,__addDisposableResource:pf,__disposeResources:bf},vv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pf,get __assign(){return oi},__asyncDelegator:of,__asyncGenerator:sf,__asyncValues:af,__await:Cr,__awaiter:Kl,__classPrivateFieldGet:ff,__classPrivateFieldIn:df,__classPrivateFieldSet:hf,__createBinding:ji,__decorate:Ql,__disposeResources:bf,__esDecorate:hv,__exportStar:ef,__extends:Gl,__generator:Xl,__importDefault:lf,__importStar:uf,__makeTemplateObject:cf,__metadata:Yl,__param:Zl,__propKey:pv,__read:Xo,__rest:Jl,__runInitializers:dv,__setFunctionName:bv,__spread:tf,__spreadArray:nf,__spreadArrays:rf,__values:ai,default:yv},Symbol.toStringTag,{value:"Module"})),ea=Kt(vv);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});var Dc=ea,_v=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Dc.__awaiter(this,void 0,void 0,function(){var r,n,i;return Dc.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Fi.default=_v;Object.defineProperty(Ko,"__esModule",{value:!0});var jc=ea,wv=Fi,Sv=function(){function t(){this._semaphore=new wv.default(1)}return t.prototype.acquire=function(){return jc.__awaiter(this,void 0,void 0,function(){var e,r;return jc.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ko.default=Sv;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.withTimeout=void 0;var Un=ea;function Ev(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Un.__awaiter(n,void 0,void 0,function(){var o,a,c;return Un.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Un.__awaiter(this,void 0,void 0,function(){var s,o;return Un.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Bi.withTimeout=Ev;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ko;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Fi;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Bi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(ql);var Cv=Rv,Iv=Object.prototype.hasOwnProperty;function Rv(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Iv.call(r,n)&&(t[n]=r[n])}return t}const xv=Cv,kv=Oo();var Mv=P;function P(t){const e=this;e.currentProvider=t}P.prototype.getBalance=In(2,"eth_getBalance");P.prototype.getCode=In(2,"eth_getCode");P.prototype.getTransactionCount=In(2,"eth_getTransactionCount");P.prototype.getStorageAt=In(3,"eth_getStorageAt");P.prototype.call=In(2,"eth_call");P.prototype.protocolVersion=V("eth_protocolVersion");P.prototype.syncing=V("eth_syncing");P.prototype.coinbase=V("eth_coinbase");P.prototype.mining=V("eth_mining");P.prototype.hashrate=V("eth_hashrate");P.prototype.gasPrice=V("eth_gasPrice");P.prototype.accounts=V("eth_accounts");P.prototype.blockNumber=V("eth_blockNumber");P.prototype.getBlockTransactionCountByHash=V("eth_getBlockTransactionCountByHash");P.prototype.getBlockTransactionCountByNumber=V("eth_getBlockTransactionCountByNumber");P.prototype.getUncleCountByBlockHash=V("eth_getUncleCountByBlockHash");P.prototype.getUncleCountByBlockNumber=V("eth_getUncleCountByBlockNumber");P.prototype.sign=V("eth_sign");P.prototype.sendTransaction=V("eth_sendTransaction");P.prototype.sendRawTransaction=V("eth_sendRawTransaction");P.prototype.estimateGas=V("eth_estimateGas");P.prototype.getBlockByHash=V("eth_getBlockByHash");P.prototype.getBlockByNumber=V("eth_getBlockByNumber");P.prototype.getTransactionByHash=V("eth_getTransactionByHash");P.prototype.getTransactionByBlockHashAndIndex=V("eth_getTransactionByBlockHashAndIndex");P.prototype.getTransactionByBlockNumberAndIndex=V("eth_getTransactionByBlockNumberAndIndex");P.prototype.getTransactionReceipt=V("eth_getTransactionReceipt");P.prototype.getUncleByBlockHashAndIndex=V("eth_getUncleByBlockHashAndIndex");P.prototype.getUncleByBlockNumberAndIndex=V("eth_getUncleByBlockNumberAndIndex");P.prototype.getCompilers=V("eth_getCompilers");P.prototype.compileLLL=V("eth_compileLLL");P.prototype.compileSolidity=V("eth_compileSolidity");P.prototype.compileSerpent=V("eth_compileSerpent");P.prototype.newFilter=V("eth_newFilter");P.prototype.newBlockFilter=V("eth_newBlockFilter");P.prototype.newPendingTransactionFilter=V("eth_newPendingTransactionFilter");P.prototype.uninstallFilter=V("eth_uninstallFilter");P.prototype.getFilterChanges=V("eth_getFilterChanges");P.prototype.getFilterLogs=V("eth_getFilterLogs");P.prototype.getLogs=V("eth_getLogs");P.prototype.getWork=V("eth_getWork");P.prototype.submitWork=V("eth_submitWork");P.prototype.submitHashrate=V("eth_submitHashrate");P.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Av(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function V(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function In(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Av(t){return xv({id:kv(),jsonrpc:"2.0",params:[]},t)}const Fc=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Bc=new WeakMap;var Tv=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Bc.get(o);if(c||(c={},Bc.set(o,c)),a in c)return c[a];const u=p=>typeof p=="string"||typeof a=="symbol"?a===p:p.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),f=l===void 0||l.writable||l.configurable,d=(e.include?e.include.some(u):!e.exclude.some(u))&&f;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Fc(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Fc(c,e,s,o);return i.set(c,l),l}return c}});return s};const Ov=Xt.default;let Nv=class extends Ov{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var ta=Nv;const Lv=ta;let $v=class extends Lv{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var Pv=$v,Rn={minBlockRef:Dv,maxBlockRef:jv,sortBlockRefs:ra,bnToHex:Fv,blockRefIsNumber:Bv,hexToInt:ci,incrementHexInt:Vv,intToHex:gf,unsafeRandomBytes:Hv};function Dv(...t){return ra(t)[0]}function jv(...t){const e=ra(t);return e[e.length-1]}function ra(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:ci(e)-ci(r))}function Fv(t){return"0x"+t.toString(16)}function Bv(t){return t&&!["earliest","latest","pending"].includes(t)}function ci(t){return t==null?t:Number.parseInt(t,16)}function Vv(t){if(t==null)return t;const e=ci(t);return gf(e+1)}function gf(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function Hv(t){let e="0x";for(let r=0;r<t;r++)e+=Vc(),e+=Vc();return e}function Vc(){return Math.floor(Math.random()*16).toString(16)}const Wv=Mv,Uv=Tv,zv=Pv,{bnToHex:d5,hexToInt:zn,incrementHexInt:qv,minBlockRef:Gv,blockRefIsNumber:Jv}=Rn;let Qv=class extends zv{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new Wv(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Gv(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=qv(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await Uv(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(zn(this.params.fromBlock)>=zn(e.blockNumber)||Jv(this.params.toBlock)&&zn(this.params.toBlock)<=zn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var Zv=Qv,na=Yv;async function Yv({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Hc(e),s=Hc(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(Kv);return await Promise.all(o.map(c=>e1(t,"eth_getBlockByNumber",[c,!1])))}function Hc(t){return t==null?t:Number.parseInt(t,16)}function Kv(t){return t==null?t:"0x"+t.toString(16)}function Xv(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function e1(t,e,r){for(let n=0;n<3;n++)try{return await Xv(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const t1=ta,r1=na,{incrementHexInt:n1}=Rn;let i1=class extends t1{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=n1(e),o=(await r1({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var s1=i1;const o1=ta,a1=na,{incrementHexInt:c1}=Rn;let u1=class extends o1{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=c1(e),i=await a1({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var l1=u1;const f1=ql.Mutex,{createAsyncMiddleware:h1,createScaffoldMiddleware:d1}=Yo,p1=Zv,b1=s1,g1=l1,{intToHex:mf,hexToInt:$s}=Rn;var m1=y1;function y1({blockTracker:t,provider:e}){let r=0,n={};const i=new f1,s=v1({mutex:i}),o=d1({eth_newFilter:s(Ps(c)),eth_newBlockFilter:s(Ps(u)),eth_newPendingTransactionFilter:s(Ps(l)),eth_uninstallFilter:s(Kn(d)),eth_getFilterChanges:s(Kn(f)),eth_getFilterLogs:s(Kn(h))}),a=async({oldBlock:m,newBlock:w})=>{if(n.length===0)return;const R=await i.acquire();try{await Promise.all(ar(n).map(async E=>{try{await E.update({oldBlock:m,newBlock:w})}catch(O){console.error(O)}}))}catch(E){console.error(E)}R()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=d,o.getFilterChanges=f,o.getFilterLogs=h,o.destroy=()=>{y()},o;async function c(m){const w=new p1({provider:e,params:m});return await p(w),w}async function u(){const m=new b1({provider:e});return await p(m),m}async function l(){const m=new g1({provider:e});return await p(m),m}async function f(m){const w=$s(m),R=n[w];if(!R)throw new Error(`No filter for index "${w}"`);return R.getChangesAndClear()}async function h(m){const w=$s(m),R=n[w];if(!R)throw new Error(`No filter for index "${w}"`);let E=[];return R.type==="log"&&(E=R.getAllResults()),E}async function d(m){const w=$s(m),E=!!n[w];return E&&await v(w),E}async function p(m){const w=ar(n).length,R=await t.getLatestBlock();await m.initialize({currentBlock:R}),r++,n[r]=m,m.id=r,m.idHex=mf(r);const E=ar(n).length;return b({prevFilterCount:w,newFilterCount:E}),r}async function v(m){const w=ar(n).length;delete n[m];const R=ar(n).length;b({prevFilterCount:w,newFilterCount:R})}async function y(){const m=ar(n).length;n={},b({prevFilterCount:m,newFilterCount:0})}function b({prevFilterCount:m,newFilterCount:w}){if(m===0&&w>0){t.on("sync",a);return}if(m>0&&w===0){t.removeListener("sync",a);return}}}function Ps(t){return Kn(async(...e)=>{const r=await t(...e);return mf(r.id)})}function Kn(t){return h1(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function v1({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function ar(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const _1=Xt.default,{createAsyncMiddleware:Wc,createScaffoldMiddleware:w1}=Yo,S1=m1,{unsafeRandomBytes:E1,incrementHexInt:C1}=Rn,I1=na;var R1=x1;function x1({blockTracker:t,provider:e}){const r={},n=S1({blockTracker:t,provider:e});let i=!1;const s=new _1,o=w1({eth_subscribe:Wc(a),eth_unsubscribe:Wc(c)});return o.destroy=l,{events:s,middleware:o};async function a(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=f.params[0],p=E1(16);let v;switch(d){case"newHeads":v=y({subId:p});break;case"logs":const m=f.params[1],w=await n.newLogFilter(m);v=b({subId:p,filter:w});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[p]=v,h.result=p;return;function y({subId:m}){const w={type:d,destroy:async()=>{t.removeListener("sync",w.update)},update:async({oldBlock:R,newBlock:E})=>{const O=E,H=C1(R);(await I1({provider:e,fromBlock:H,toBlock:O})).map(k1).filter(B=>B!==null).forEach(B=>{u(m,B)})}};return t.on("sync",w.update),w}function b({subId:m,filter:w}){return w.on("update",E=>u(m,E)),{type:d,destroy:async()=>await n.uninstallFilter(w.idHex)}}}async function c(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=f.params[0],p=r[d];if(!p){h.result=!1;return}delete r[d],await p.destroy(),h.result=!0}function u(f,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:h}})}function l(){s.removeAllListeners();for(const f in r)r[f].destroy(),delete r[f];i=!0}}function k1(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SubscriptionManager=void 0;const M1=ll,A1=R1,Uc=()=>{};class T1{constructor(e){const r=new M1.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=A1({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Uc,Uc),r}destroy(){this.subscriptionMiddleware.destroy()}}Ei.SubscriptionManager=T1;var ia=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yr,"__esModule",{value:!0});yr.CoinbaseWalletProvider=void 0;const O1=ia(Xt),N1=ia(bi),Ds=Nr,Z=pn,zc=$r,qc=Ye,js=_i,L1=K,j=I,Fs=ia(u0),$1=wr,Q=ul,P1=Ei,Gc="DefaultChainId",Jc="DefaultJsonRpcUrl";class D1 extends O1.default{constructor(e){var r,n;super(),this._filterPolyfill=new $1.FilterPolyfill(this),this._subscriptionManager=new P1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,j.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(qc.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,j.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,j.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Jc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Jc,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Gc,r.toString(10)),((0,j.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,j.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const f=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,L1.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===Z.standardErrorCodes.provider.unsupportedChain?Z.standardErrors.provider.unsupportedChain(e):Z.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Ds.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?zc.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(Q.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,Z.serializeError)(i,e)})}catch(n){throw(0,Z.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,Z.serializeError)(n,e)})}catch(n){return Promise.reject((0,Z.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,Z.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,Z.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Z.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Z.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Z.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,j.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Z.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",js.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,Z.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",js.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Z.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",js.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,j.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(qc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Q.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Q.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Q.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Q.JSONRPCMethod.net_version:return this._net_version();case Q.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Q.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Q.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Q.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Q.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Q.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Q.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Q.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Q.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Q.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Q.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Q.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Q.JSONRPCMethod.eth_signTypedData_v4:case Q.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Q.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Q.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Q.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Q.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Q.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Q.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Q.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Q.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Q.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Q.JSONRPCMethod.eth_subscribe:case Q.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,j.ensureAddressString)(e);return this._addresses.map(i=>(0,j.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Ds.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,j.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,j.ensureAddressString)(e.to):null,i=e.value!=null?(0,j.ensureBN)(e.value):new N1.default(0),s=e.data?(0,j.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,j.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,j.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,j.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,j.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,j.ensureBN)(e.gas):null,f=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Z.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Z.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,j.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Gc);if(!e)return(0,j.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,j.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Ds.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?zc.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,j.ensureAddressString)(e[0]),n=(0,j.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,j.ensureBuffer)(e[0]),n=(0,j.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,j.ensureBuffer)(e[0]),n=(0,j.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,j.ensureBuffer)(e[0]),n=(0,j.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,j.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,j.ensureParsedJSONObject)(e[0]),n=(0,j.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Fs.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,j.ensureAddressString)(e[0]),n=(0,j.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Fs.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,j.ensureAddressString)(e[0]),n=(0,j.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Fs.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Z.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Z.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Z.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw Z.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw Z.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw Z.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,j.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,j.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,j.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}yr.CoinbaseWalletProvider=D1;var Vi={},Hi={},xn,$,yf,vf,Wt,Qc,_f,ao,wf,ln={},Sf=[],j1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Wi=Array.isArray;function mt(t,e){for(var r in e)t[r]=e[r];return t}function Ef(t){var e=t.parentNode;e&&e.removeChild(t)}function co(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?xn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return nn(t,o,n,i,null)}function nn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++yf,__i:-1,__u:0};return i==null&&$.vnode!=null&&$.vnode(s),s}function F1(){return{current:null}}function kn(t){return t.children}function sn(t,e){this.props=t,this.context=e}function Ir(t,e){if(e==null)return t.__?Ir(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Ir(t):null}function Cf(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Cf(t)}}function uo(t){(!t.__d&&(t.__d=!0)&&Wt.push(t)&&!ui.__r++||Qc!==$.debounceRendering)&&((Qc=$.debounceRendering)||_f)(ui)}function ui(){var t,e,r,n,i,s,o,a,c;for(Wt.sort(ao);t=Wt.shift();)t.__d&&(e=Wt.length,n=void 0,s=(i=(r=t).__v).__e,a=[],c=[],(o=r.__P)&&((n=mt({},i)).__v=i.__v+1,$.vnode&&$.vnode(n),sa(o,n,i,r.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??Ir(i),!!(32&i.__u),c),n.__.__k[n.__i]=n,kf(a,n,c),n.__e!=s&&Cf(n)),Wt.length>e&&Wt.sort(ao));ui.__r=0}function If(t,e,r,n,i,s,o,a,c,u,l){var f,h,d,p,v,y=n&&n.__k||Sf,b=e.length;for(r.__d=c,B1(r,e,y),c=r.__d,f=0;f<b;f++)(d=r.__k[f])!=null&&typeof d!="boolean"&&typeof d!="function"&&(h=d.__i===-1?ln:y[d.__i]||ln,d.__i=f,sa(t,d,h,i,s,o,a,c,u,l),p=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&oa(h.ref,null,d),l.push(d.ref,d.__c||p,d)),v==null&&p!=null&&(v=p),65536&d.__u||h.__k===d.__k?c=Rf(d,c,t):typeof d.type=="function"&&d.__d!==void 0?c=d.__d:p&&(c=p.nextSibling),d.__d=void 0,d.__u&=-196609);r.__d=c,r.__e=v}function B1(t,e,r){var n,i,s,o,a,c=e.length,u=r.length,l=u,f=0;for(t.__k=[],n=0;n<c;n++)(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?nn(null,i,null,null,i):Wi(i)?nn(kn,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?nn(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=V1(i,r,o=n+f,l),i.__i=a,s=null,a!==-1&&(l--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&f--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?f++:a>o?l>c-o?f+=a-o:f--:f=a<o&&a==o-1?a-o:0,a!==n+f&&(i.__u|=65536))):(s=r[n])&&s.key==null&&s.__e&&(s.__e==t.__d&&(t.__d=Ir(s)),lo(s,s,!1),r[n]=null,l--);if(l)for(n=0;n<u;n++)(s=r[n])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=Ir(s)),lo(s,s))}function Rf(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=Rf(n[i],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function xf(t,e){return e=e||[],t==null||typeof t=="boolean"||(Wi(t)?t.some(function(r){xf(r,e)}):e.push(t)),e}function V1(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function Zc(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||j1.test(e)?r:r+"px"}function qn(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Zc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Zc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?Kc:Yc,s)):t.removeEventListener(e,s?Kc:Yc,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Yc(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e($.event?$.event(t):t)}function Kc(t){return this.l[t.type+!0]($.event?$.event(t):t)}function sa(t,e,r,n,i,s,o,a,c,u){var l,f,h,d,p,v,y,b,m,w,R,E,O,H,X,T=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),s=[a=e.__e=r.__e]),(l=$.__b)&&l(e);e:if(typeof T=="function")try{if(b=e.props,m=(l=T.contextType)&&n[l.__c],w=l?m?m.props.value:l.__:n,r.__c?y=(f=e.__c=r.__c).__=f.__E:("prototype"in T&&T.prototype.render?e.__c=f=new T(b,w):(e.__c=f=new sn(b,w),f.constructor=T,f.render=W1),m&&m.sub(f),f.props=b,f.state||(f.state={}),f.context=w,f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),T.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=mt({},f.__s)),mt(f.__s,T.getDerivedStateFromProps(b,f.__s))),d=f.props,p=f.state,f.__v=e,h)T.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(T.getDerivedStateFromProps==null&&b!==d&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(b,w),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(b,f.__s,w)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(f.props=b,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(B){B&&(B.__=e)}),R=0;R<f._sb.length;R++)f.__h.push(f._sb[R]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(b,f.__s,w),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(d,p,v)})}if(f.context=w,f.props=b,f.__P=t,f.__e=!1,E=$.__r,O=0,"prototype"in T&&T.prototype.render){for(f.state=f.__s,f.__d=!1,E&&E(e),l=f.render(f.props,f.state,f.context),H=0;H<f._sb.length;H++)f.__h.push(f._sb[H]);f._sb=[]}else do f.__d=!1,E&&E(e),l=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++O<25);f.state=f.__s,f.getChildContext!=null&&(n=mt(mt({},n),f.getChildContext())),h||f.getSnapshotBeforeUpdate==null||(v=f.getSnapshotBeforeUpdate(d,p)),If(t,Wi(X=l!=null&&l.type===kn&&l.key==null?l.props.children:l)?X:[X],e,r,n,i,s,o,a,c,u),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),y&&(f.__E=f.__=null)}catch(B){e.__v=null,c||s!=null?(e.__e=a,e.__u|=c?160:32,s[s.indexOf(a)]=null):(e.__e=r.__e,e.__k=r.__k),$.__e(B,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=H1(r.__e,e,r,n,i,s,o,c,u);(l=$.diffed)&&l(e)}function kf(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)oa(r[n],r[++n],r[++n]);$.__c&&$.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){$.__e(s,i.__v)}})}function H1(t,e,r,n,i,s,o,a,c){var u,l,f,h,d,p,v,y=r.props,b=e.props,m=e.type;if(m==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((d=s[u])&&"setAttribute"in d==!!m&&(m?d.localName===m:d.nodeType===3)){t=d,s[u]=null;break}}if(t==null){if(m===null)return document.createTextNode(b);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,b.is&&b),s=null,a=!1}if(m===null)y===b||a&&t.data===b||(t.data=b);else{if(s=s&&xn.call(t.childNodes),y=r.props||ln,!a&&s!=null)for(y={},u=0;u<t.attributes.length;u++)y[(d=t.attributes[u]).name]=d.value;for(u in y)d=y[u],u=="children"||(u=="dangerouslySetInnerHTML"?f=d:u==="key"||u in b||qn(t,u,null,d,i));for(u in b)d=b[u],u=="children"?h=d:u=="dangerouslySetInnerHTML"?l=d:u=="value"?p=d:u=="checked"?v=d:u==="key"||a&&typeof d!="function"||y[u]===d||qn(t,u,d,y[u],i);if(l)a||f&&(l.__html===f.__html||l.__html===t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(f&&(t.innerHTML=""),If(t,Wi(h)?h:[h],e,r,n,i&&m!=="foreignObject",s,o,s?s[0]:r.__k&&Ir(r,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&Ef(s[u]);a||(u="value",p!==void 0&&(p!==t[u]||m==="progress"&&!p||m==="option"&&p!==y[u])&&qn(t,u,p,y[u],!1),u="checked",v!==void 0&&v!==t[u]&&qn(t,u,v,y[u],!1))}return t}function oa(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){$.__e(n,r)}}function lo(t,e,r){var n,i;if($.unmount&&$.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||oa(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){$.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&lo(n[i],e,r||typeof t.type!="function");r||t.__e==null||Ef(t.__e),t.__=t.__e=t.__d=void 0}function W1(t,e,r){return this.constructor(t,r)}function Mf(t,e,r){var n,i,s,o;$.__&&$.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],sa(e,t=(!n&&r||e).__k=co(kn,null,[t]),i||ln,ln,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?xn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),kf(s,t,o)}function Af(t,e){Mf(t,e,Af)}function U1(t,e,r){var n,i,s,o,a=mt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?xn.call(arguments,2):r),nn(t.type,a,n||t.key,i||t.ref,null)}function z1(t,e){var r={__c:e="__cC"+wf++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,uo(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}xn=Sf.slice,$={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},yf=0,vf=function(t){return t!=null&&t.constructor==null},sn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=mt({},this.state),typeof t=="function"&&(t=t(mt({},r),this.props)),t&&mt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),uo(this))},sn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),uo(this))},sn.prototype.render=kn,Wt=[],_f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ao=function(t,e){return t.__v.__b-e.__v.__b},ui.__r=0,wf=0;const q1=Object.freeze(Object.defineProperty({__proto__:null,Component:sn,Fragment:kn,cloneElement:U1,createContext:z1,createElement:co,createRef:F1,h:co,hydrate:Af,get isValidElement(){return vf},get options(){return $},render:Mf,toChildArray:xf},Symbol.toStringTag,{value:"Module"})),Pe=Kt(q1);function Rr(t){return typeof t=="function"}var Xc=!1,Be={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Xc=t},get useDeprecatedSynchronousErrorHandling(){return Xc}};function fr(t){setTimeout(function(){throw t},0)}var li={closed:!0,next:function(t){},error:function(t){if(Be.useDeprecatedSynchronousErrorHandling)throw t;fr(t)},complete:function(){}},xe=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function aa(t){return t!==null&&typeof t=="object"}var G1=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),on=G1,ie=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Rr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof on?eu(f.errors):[f]}}if(xe(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(aa(l))try{l.unsubscribe()}catch(h){e=e||[],h instanceof on?e=e.concat(eu(h.errors)):e.push(h)}}if(e)throw new on(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function eu(t){return t.reduce(function(e,r){return e.concat(r instanceof on?r.errors:r)},[])}var fi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),M=function(t){g(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=li;break;case 1:if(!r){s.destination=li;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new tu(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new tu(s,r,n,i);break}return s}return e.prototype[fi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ie),tu=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Rr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==li&&(c=Object.create(n),Rr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Be.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Be.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):fr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;fr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Be.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Be.useDeprecatedSynchronousErrorHandling)throw i;fr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Be.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Be.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(fr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(M);function ca(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof M?t=n:t=null}return!0}function J1(t,e,r){if(t){if(t instanceof M)return t;if(t[fi])return t[fi]()}return!t&&!e&&!r?new M(li):new M(t,e,r)}var Br=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ot(t){return t}function fo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Tf(t)}function Tf(t){return t.length===0?Ot:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var F=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=J1(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Be.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Be.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Be.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ca(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=ru(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Br]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Tf(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=ru(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function ru(t){if(t||(t=Be.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Q1=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),xt=Q1,Of=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ie),Nf=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(M),me=function(t){g(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[fi]=function(){return new Nf(this)},e.prototype.lift=function(r){var n=new nu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new xt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new xt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new xt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new xt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new xt;return this.hasError?(r.error(this.thrownError),ie.EMPTY):this.isStopped?(r.complete(),ie.EMPTY):(this.observers.push(r),new Of(this,r))},e.prototype.asObservable=function(){var r=new F;return r.source=this,r},e.create=function(r,n){return new nu(r,n)},e}(F),nu=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ie.EMPTY},e}(me);function ua(){return function(e){return e.lift(new Z1(e))}}var Z1=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Y1(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),Y1=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(M),Lf=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ie,r.add(this.source.subscribe(new X1(this.getSubject(),this))),r.closed&&(this._connection=null,r=ie.EMPTY)),r},e.prototype.refCount=function(){return ua()(this)},e}(F),K1=function(){var t=Lf.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),X1=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Nf);function e_(t,e,r,n){return function(i){return i.lift(new t_(t,e,r,n))}}var t_=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new r_(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),r_=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new me,i.set(n,s);var a=new ho(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new ho(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new n_(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(M),n_=function(t){g(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(M),ho=function(t){g(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ie,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new i_(s)),n.add(o.subscribe(r)),n},e}(F),i_=function(t){g(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ie),$f=function(t){g(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(me),s_=function(t){g(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ie),Mn=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(s_),o_=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Mn),po=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),An=function(t){g(e,t);function e(r,n){n===void 0&&(n=po.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(po),a_=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(An),Pf=new a_(o_),Df=Pf,xr=new F(function(t){return t.complete()});function Vr(t){return t?c_(t):xr}function c_(t){return new F(function(e){return t.schedule(function(){return e.complete()})})}function $e(t){return t&&typeof t.schedule=="function"}var jf=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function la(t,e){return new F(function(r){var n=new ie,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Tn(t,e){return e?la(t,e):new F(jf(t))}function Ui(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return $e(r)?(t.pop(),la(t,r)):Tn(t)}function fa(t,e){return e?new F(function(r){return e.schedule(u_,0,{error:t,subscriber:r})}):new F(function(r){return r.error(t)})}function u_(t){var e=t.error,r=t.subscriber;r.error(e)}var bo;bo||(bo={});var yt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ui(this.value);case"E":return fa(this.error);case"C":return Vr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function l_(t,e){return e===void 0&&(e=0),function(n){return n.lift(new f_(t,e))}}var f_=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Ff(e,this.scheduler,this.delay))},t}(),Ff=function(t){g(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new h_(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(yt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(yt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(yt.createComplete()),this.unsubscribe()},e}(M),h_=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),ha=function(t){g(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new d_(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new xt;if(this.isStopped||this.hasError?a=ie.EMPTY:(this.observers.push(r),a=new Of(this,r)),s&&r.add(r=new Ff(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Df).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(me),d_=function(){function t(e,r){this.time=e,this.value=r}return t}(),Hr=function(t){g(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ie.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ie.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(me),p_=1,b_=function(){return Promise.resolve()}(),go={};function iu(t){return t in go?(delete go[t],!0):!1}var su={setImmediate:function(t){var e=p_++;return go[e]=!0,b_.then(function(){return iu(e)&&t()}),e},clearImmediate:function(t){iu(t)}},g_=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=su.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(su.clearImmediate(n),r.scheduled=void 0)},e}(Mn),m_=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(An),Bf=new m_(g_),Xn=Bf,Vf=new An(Mn),ke=Vf,y_=function(t){g(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Mn),v_=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(An),Hf=new v_(y_),__=Hf,w_=function(t){g(e,t);function e(r,n){r===void 0&&(r=Wf),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(An),Wf=function(t){g(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Mn);function st(){}function S_(t){return!!t&&(t instanceof F||typeof t.lift=="function"&&typeof t.subscribe=="function")}var E_=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),kr=E_,C_=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),On=C_,I_=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Uf=I_;function ze(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new R_(t,e))}}var R_=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new x_(e,this.project,this.thisArg))},t}(),x_=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(M);function zf(t,e,r){if(e)if($e(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return zf(t,r).apply(void 0,n).pipe(ze(function(s){return xe(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new F(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(k_,0,l)}else{if(!o){o=new Hr;var u=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];o.next(f.length<=1?f[0]:f),o.complete()};try{t.apply(s,n.concat([u]))}catch(f){ca(o)?o.error(f):console.warn(f)}}return o.subscribe(c)}})}}function k_(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Hr;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.length<=1?l[0]:l;e.add(a.schedule(M_,0,{value:h,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function M_(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function qf(t,e,r){if(e)if($e(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qf(t,r).apply(void 0,n).pipe(ze(function(s){return xe(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new F(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(A_,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Hr;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h){c.error(h);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){ca(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function A_(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Hr;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=l.shift();if(h)e.add(a.schedule(ou,0,{err:h,subject:c}));else{var d=l.length<=1?l[0]:l;e.add(a.schedule(T_,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(ou,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function T_(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function ou(t){var e=t.err,r=t.subject;r.error(e)}var nr=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(M),O_=function(t){g(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(M),N_=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,fr),e}};function L_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nt=L_(),$_=function(t){return function(e){var r=t[Nt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},P_=function(t){return function(e){var r=t[Br]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Gf=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Jf(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var fn=function(t){if(t&&typeof t[Br]=="function")return P_(t);if(Gf(t))return jf(t);if(Jf(t))return N_(t);if(t&&typeof t[Nt]=="function")return $_(t);var e=aa(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function vt(t,e,r,n,i){if(i===void 0&&(i=new O_(t,r,n)),!i.closed)return e instanceof F?e.subscribe(i):fn(e)(i)}var au={};function D_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return $e(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&xe(t[0])&&(t=t[0]),Tn(t,n).lift(new da(r))}var da=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new j_(e,this.resultSelector))},t}(),j_=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(au),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(vt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===au?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(nr);function F_(t,e){return new F(function(r){var n=new ie;return n.add(e.schedule(function(){var i=t[Br]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function B_(t,e){return new F(function(r){var n=new ie;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function V_(t,e){if(!t)throw new Error("Iterable cannot be null");return new F(function(r){var n=new ie,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Nt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function H_(t){return t&&typeof t[Br]=="function"}function W_(t){return t&&typeof t[Nt]=="function"}function Qf(t,e){if(t!=null){if(H_(t))return F_(t,e);if(Jf(t))return B_(t,e);if(Gf(t))return la(t,e);if(W_(t)||typeof t=="string")return V_(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function wt(t,e){return e?Qf(t,e):t instanceof F?t:new F(fn(t))}var se=function(t){g(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(M),oe=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(M);function ae(t,e){if(!e.closed){if(t instanceof F)return t.subscribe(e);var r;try{r=fn(t)(e)}catch(n){e.error(n)}return r}}function Zt(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Zt(function(i,s){return wt(t(i,s)).pipe(ze(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new U_(t,r))})}var U_=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new z_(e,this.project,this.concurrent))},t}(),z_=function(t){g(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(oe),q_=Zt;function pa(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Zt(Ot,t)}function Zf(){return pa(1)}function hn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zf()(Ui.apply(void 0,t))}function ba(t){return new F(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?wt(r):Vr();return n.subscribe(e)})}function G_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(xe(r))return Gn(r,null);if(aa(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Gn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&xe(t[0])?t[0]:t,Gn(t,null).pipe(ze(function(s){return i.apply(void 0,s)}))}return Gn(t,null)}function Gn(t,e){return new F(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=wt(t[u]),f=!1;r.add(l.subscribe({next:function(h){f||(f=!0,o++),i[u]=h},error:function(h){return r.error(h)},complete:function(){s++,(s===n||!f)&&(o===n&&r.next(e?e.reduce(function(h,d,p){return h[d]=i[p],h},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Yf(t,e,r,n){return Rr(r)&&(n=r,r=void 0),n?Yf(t,e,r).pipe(ze(function(i){return xe(i)?n.apply(void 0,i):n(i)})):new F(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Kf(t,e,s,i,r)})}function Kf(t,e,r,n,i){var s;if(Z_(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(Q_(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(J_(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Kf(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function J_(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Q_(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function Z_(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Xf(t,e,r){return r?Xf(t,e).pipe(ze(function(n){return xe(n)?r.apply(void 0,n):r(n)})):new F(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Rr(e))return function(){return e(i,s)}})}function Y_(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Ot,i=a.scheduler}else n===void 0||$e(n)?(o=t,s=Ot,i=n):(o=t,s=n);return new F(function(c){var u=o;if(i)return i.schedule(K_,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(h){c.error(h);return}if(!l){c.complete();break}}var f=void 0;try{f=s(u)}catch(h){c.error(h);return}if(c.next(f),c.closed)break;try{u=r(u)}catch(h){c.error(h);return}}while(!0)})}function K_(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function X_(t,e,r){return e===void 0&&(e=xr),r===void 0&&(r=xr),ba(function(){return t()?e:r})}function Mr(t){return!xe(t)&&t-parseFloat(t)+1>=0}function ew(t,e){return t===void 0&&(t=0),e===void 0&&(e=ke),(!Mr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=ke),new F(function(r){return r.add(e.schedule(tw,t,{subscriber:r,counter:0,period:t})),r})}function tw(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function eh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return $e(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof F?t[0]:pa(r)(Tn(t,n))}var th=new F(st);function rw(){return th}function mo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return xr;var r=t[0],n=t.slice(1);return t.length===1&&xe(r)?mo.apply(void 0,r):new F(function(i){var s=function(){return i.add(mo.apply(void 0,n).subscribe(i))};return wt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function nw(t,e){return e?new F(function(r){var n=Object.keys(t),i=new ie;return i.add(e.schedule(iw,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new F(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function iw(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function rh(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Lt(t,e){return function(n){return n.lift(new sw(t,e))}}var sw=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new ow(e,this.predicate,this.thisArg))},t}(),ow=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(M);function aw(t,e,r){return[Lt(e,r)(new F(fn(t))),Lt(rh(e,r))(new F(fn(t)))]}function nh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(xe(t[0]))t=t[0];else return t[0];return Tn(t,void 0).lift(new cw)}var cw=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new uw(e))},t}(),uw=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=vt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(nr);function lw(t,e,r){return t===void 0&&(t=0),new F(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(fw,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function fw(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function ih(t,e,r){t===void 0&&(t=0);var n=-1;return Mr(e)?n=Number(e)<1&&1||Number(e):$e(e)&&(r=e),$e(r)||(r=ke),new F(function(i){var s=Mr(t)?t:+t-r.now();return r.schedule(hw,s,{index:0,period:n,subscriber:i})})}function hw(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function dw(t,e){return new F(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?wt(i):xr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function sh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Tn(t,void 0).lift(new oh(r))}var oh=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new pw(e,this.resultSelector))},t}(),pw=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;xe(r)?n.push(new gw(r)):typeof r[Nt]=="function"?n.push(new bw(r[Nt]())):n.push(new mw(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(M),bw=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),gw=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Nt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),mw=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Nt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return ae(this.observable,new se(this))},e}(oe);const yw=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:kr,AsyncSubject:Hr,BehaviorSubject:$f,ConnectableObservable:Lf,EMPTY:xr,EmptyError:On,GroupedObservable:ho,NEVER:th,Notification:yt,get NotificationKind(){return bo},ObjectUnsubscribedError:xt,Observable:F,ReplaySubject:ha,Scheduler:po,Subject:me,Subscriber:M,Subscription:ie,TimeoutError:Uf,UnsubscriptionError:on,VirtualAction:Wf,VirtualTimeScheduler:w_,animationFrame:__,animationFrameScheduler:Hf,asap:Xn,asapScheduler:Bf,async:ke,asyncScheduler:Vf,bindCallback:zf,bindNodeCallback:qf,combineLatest:D_,concat:hn,config:Be,defer:ba,empty:Vr,forkJoin:G_,from:wt,fromEvent:Yf,fromEventPattern:Xf,generate:Y_,identity:Ot,iif:X_,interval:ew,isObservable:S_,merge:eh,never:rw,noop:st,observable:Br,of:Ui,onErrorResumeNext:mo,pairs:nw,partition:aw,pipe:fo,queue:Df,queueScheduler:Pf,race:nh,range:lw,scheduled:Qf,throwError:fa,timer:ih,using:dw,zip:sh},Symbol.toStringTag,{value:"Module"})),zi=Kt(yw);var qi={};function ah(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=ah(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function cu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=ah(t))&&(n&&(n+=" "),n+=e);return n}const vw=Object.freeze(Object.defineProperty({__proto__:null,clsx:cu,default:cu},Symbol.toStringTag,{value:"Module"})),Gi=Kt(vw);var _t,Y,Bs,uu,Ar=0,ch=[],ei=[],lu=$.__b,fu=$.__r,hu=$.diffed,du=$.__c,pu=$.unmount;function ir(t,e){$.__h&&$.__h(Y,t,Ar||e),Ar=0;var r=Y.__H||(Y.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:ei}),r.__[t]}function uh(t){return Ar=1,lh(hh,t)}function lh(t,e,r){var n=ir(_t++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):hh(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=Y,!Y.u)){var i=function(a,c,u){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(h){return h.__c});if(l.every(function(h){return!h.__N}))return!s||s.call(this,a,c,u);var f=!1;return l.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(f=!0)}}),!(!f&&n.__c.props===a)&&(!s||s.call(this,a,c,u))};Y.u=!0;var s=Y.shouldComponentUpdate,o=Y.componentWillUpdate;Y.componentWillUpdate=function(a,c,u){if(this.__e){var l=s;s=void 0,i(a,c,u),s=l}o&&o.call(this,a,c,u)},Y.shouldComponentUpdate=i}return n.__N||n.__}function _w(t,e){var r=ir(_t++,3);!$.__s&&ma(r.__H,e)&&(r.__=t,r.i=e,Y.__H.__h.push(r))}function fh(t,e){var r=ir(_t++,4);!$.__s&&ma(r.__H,e)&&(r.__=t,r.i=e,Y.__h.push(r))}function ww(t){return Ar=5,ga(function(){return{current:t}},[])}function Sw(t,e,r){Ar=6,fh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function ga(t,e){var r=ir(_t++,7);return ma(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Ew(t,e){return Ar=8,ga(function(){return t},e)}function Cw(t){var e=Y.context[t.__c],r=ir(_t++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Y)),e.props.value):t.__}function Iw(t,e){$.useDebugValue&&$.useDebugValue(e?e(t):t)}function Rw(t){var e=ir(_t++,10),r=uh();return e.__=t,Y.componentDidCatch||(Y.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function xw(){var t=ir(_t++,11);if(!t.__){for(var e=Y.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function kw(){for(var t;t=ch.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ti),t.__H.__h.forEach(yo),t.__H.__h=[]}catch(e){t.__H.__h=[],$.__e(e,t.__v)}}$.__b=function(t){Y=null,lu&&lu(t)},$.__r=function(t){fu&&fu(t),_t=0;var e=(Y=t.__c).__H;e&&(Bs===Y?(e.__h=[],Y.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=ei,r.__N=r.i=void 0})):(e.__h.forEach(ti),e.__h.forEach(yo),e.__h=[],_t=0)),Bs=Y},$.diffed=function(t){hu&&hu(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ch.push(e)!==1&&uu===$.requestAnimationFrame||((uu=$.requestAnimationFrame)||Mw)(kw)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==ei&&(r.__=r.__V),r.i=void 0,r.__V=ei})),Bs=Y=null},$.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ti),r.__h=r.__h.filter(function(n){return!n.__||yo(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],$.__e(n,r.__v)}}),du&&du(t,e)},$.unmount=function(t){pu&&pu(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ti(n)}catch(i){e=i}}),r.__H=void 0,e&&$.__e(e,r.__v))};var bu=typeof requestAnimationFrame=="function";function Mw(t){var e,r=function(){clearTimeout(n),bu&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);bu&&(e=requestAnimationFrame(r))}function ti(t){var e=Y,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Y=e}function yo(t){var e=Y;t.__c=t.__(),Y=e}function ma(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function hh(t,e){return typeof e=="function"?e(t):e}const Aw=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Ew,useContext:Cw,useDebugValue:Iw,useEffect:_w,useErrorBoundary:Rw,useId:xw,useImperativeHandle:Sw,useLayoutEffect:fh,useMemo:ga,useReducer:lh,useRef:ww,useState:uh},Symbol.toStringTag,{value:"Module"})),Nn=Kt(Aw);var lt={},Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.CloseIcon=void 0;const gu=Pe;function Tw(t){return(0,gu.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,gu.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ji.CloseIcon=Tw;var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var va={};Object.defineProperty(va,"__esModule",{value:!0});va.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.QRCodeIcon=void 0;const rt=Pe;function Ow(t){return(0,rt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,rt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,rt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,rt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,rt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,rt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,rt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,rt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,rt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,rt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Qi.QRCodeIcon=Ow;var _a={};Object.defineProperty(_a,"__esModule",{value:!0});const Nw=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;_a.default=Nw;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.StatusDotIcon=void 0;const mu=Pe;function Lw(t){return(0,mu.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,mu.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Zi.StatusDotIcon=Lw;var Yi={};function dh(t){this.mode=Ne.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}dh.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ft(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ft.prototype={addData:function(t){var e=new dh(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ft.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=re.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=re.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=re.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=re.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=re.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ft.PAD0=236;ft.PAD1=17;ft.createData=function(t,e,r){for(var n=at.getRSBlocks(t,e),i=new ph,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),re.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ft.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ft.PAD1,8);return ft.createBytes(i,n)};ft.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var f=re.getErrorCorrectPolynomial(u),h=new mr(s[a],f.getLength()-1),d=h.mod(f);o[a]=new Array(f.getLength()-1);for(var l=0;l<o[a].length;l++){var p=l+d.getLength()-o[a].length;o[a][l]=p>=0?d.get(p):0}}for(var v=0,l=0;l<e.length;l++)v+=e[l].totalCount;for(var y=new Array(v),b=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(y[b++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(y[b++]=o[a][l]);return y};var Ne={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Mt={L:1,M:0,Q:3,H:2},St={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},re={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;re.getBCHDigit(e)-re.getBCHDigit(re.G15)>=0;)e^=re.G15<<re.getBCHDigit(e)-re.getBCHDigit(re.G15);return(t<<10|e)^re.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;re.getBCHDigit(e)-re.getBCHDigit(re.G18)>=0;)e^=re.G18<<re.getBCHDigit(e)-re.getBCHDigit(re.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return re.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case St.PATTERN000:return(e+r)%2==0;case St.PATTERN001:return e%2==0;case St.PATTERN010:return r%3==0;case St.PATTERN011:return(e+r)%3==0;case St.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case St.PATTERN101:return e*r%2+e*r%3==0;case St.PATTERN110:return(e*r%2+e*r%3)%2==0;case St.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new mr([1],0),r=0;r<t;r++)e=e.multiply(new mr([1,ge.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Ne.MODE_NUMBER:return 10;case Ne.MODE_ALPHA_NUM:return 9;case Ne.MODE_8BIT_BYTE:return 8;case Ne.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Ne.MODE_NUMBER:return 12;case Ne.MODE_ALPHA_NUM:return 11;case Ne.MODE_8BIT_BYTE:return 16;case Ne.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Ne.MODE_NUMBER:return 14;case Ne.MODE_ALPHA_NUM:return 13;case Ne.MODE_8BIT_BYTE:return 16;case Ne.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return r+=f*10,r}},ge={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ge.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ge.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ve=0;ve<8;ve++)ge.EXP_TABLE[ve]=1<<ve;for(var ve=8;ve<256;ve++)ge.EXP_TABLE[ve]=ge.EXP_TABLE[ve-4]^ge.EXP_TABLE[ve-5]^ge.EXP_TABLE[ve-6]^ge.EXP_TABLE[ve-8];for(var ve=0;ve<255;ve++)ge.LOG_TABLE[ge.EXP_TABLE[ve]]=ve;function mr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}mr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=ge.gexp(ge.glog(this.get(r))+ge.glog(t.get(n)));return new mr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ge.glog(this.get(0))-ge.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=ge.gexp(ge.glog(t.get(n))+e);return new mr(r,0).mod(t)}};function at(t,e){this.totalCount=t,this.dataCount=e}at.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];at.getRSBlocks=function(t,e){var r=at.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new at(a,c));return i};at.getRsBlockTable=function(t,e){switch(e){case Mt.L:return at.RS_BLOCK_TABLE[(t-1)*4+0];case Mt.M:return at.RS_BLOCK_TABLE[(t-1)*4+1];case Mt.Q:return at.RS_BLOCK_TABLE[(t-1)*4+2];case Mt.H:return at.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function ph(){this.buffer=[],this.length=0}ph.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Vs=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function bh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),f=1,h=0,d=0,p=Vs.length;d<=p;d++){var v=Vs[d];if(!v)throw new Error("Content too long: expected "+h+" but got "+l);switch(u){case"L":h=v[0];break;case"M":h=v[1];break;case"Q":h=v[2];break;case"H":h=v[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=h)break;f++}if(f>Vs.length)throw new Error("Content too long");return f}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ft(o,a),this.qrcode.addData(s),this.qrcode.make()}bh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,h=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,p=typeof e.predefined<"u"?!!e.predefined:!1,v=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",y=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,b="",m="",w=0;w<c;w++)for(var R=0;R<c;R++){var E=r[R][w];if(E){var O=R*u+e.padding*u,H=w*l+e.padding*l;if(h){var X=O;O=H,H=X}if(f){var T=u+O,B=l+H;O=Number.isInteger(O)?Number(O):O.toFixed(2),H=Number.isInteger(H)?Number(H):H.toFixed(2),T=Number.isInteger(T)?Number(T):T.toFixed(2),B=Number.isInteger(B)?Number(B):B.toFixed(2),m+="M"+O+","+H+" V"+B+" H"+T+" V"+H+" H"+O+" Z "}else p?b+=i+'<use x="'+O.toString()+'" y="'+H.toString()+'" href="#qrmodule" />'+s:b+=i+'<rect x="'+O.toString()+'" y="'+H.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(b=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let ue="";if(this.options.image!==void 0&&this.options.image.svg){const S=o*this.options.image.width/100,_=a*this.options.image.height/100,A=o/2-S/2,C=a/2-_/2;ue+=`<svg x="${A}" y="${C}" width="${S}" height="${_}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ue+=this.options.image.svg+s,ue+="</svg>"}var z="";switch(t.container){case"svg":d&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,z+=v+y+b,z+=ue,z+="</svg>";break;case"svg-viewbox":d&&(z+='<?xml version="1.0" standalone="yes"?>'+s),z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,z+=v+y+b,z+=ue,z+="</svg>";break;case"g":z+='<g width="'+o+'" height="'+a+'">'+s,z+=v+y+b,z+=ue,z+="</g>";break;default:z+=(v+y+b+ue).replace(/^\s+/,"");break}return z};var $w=bh,Pw=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.QRCode=void 0;const Dw=Pe,yu=Nn,jw=Pw($w),Fw=t=>{const[e,r]=(0,yu.useState)("");return(0,yu.useEffect)(()=>{var n,i;const s=new jw.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Dw.h)("img",{src:e,alt:"QR Code"}):null};Yi.QRCode=Fw;var Ki={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Bw=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Spinner=void 0;const Jn=Pe,Vw=Bw(Sa),Hw=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Jn.h)("div",{class:"-cbwsdk-spinner"},(0,Jn.h)("style",null,Vw.default),(0,Jn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Jn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ki.Spinner=Hw;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Wr=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lt,"__esModule",{value:!0});lt.CoinbaseAppSteps=lt.CoinbaseWalletSteps=lt.ConnectItem=lt.ConnectContent=void 0;const He=Wr(Gi),L=Pe,vu=Nn,Ww=I,Uw=Lr,zw=Ji,qw=Wr(ya),Gw=Wr(va),gh=Qi,Jw=Wr(_a),Qw=Wr(wa),Zw=Zi,Yw=Yi,Kw=Ki,Xw=Wr(Ea),_u={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Gw.default,steps:yh},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:qw.default,steps:vh}},eS=t=>{switch(t){case"coinbase-app":return Jw.default;case"coinbase-wallet-app":default:return Qw.default}},vo=t=>t==="light"?"#FFFFFF":"#0A0B0D";function tS(t){const{theme:e}=t,[r,n]=(0,vu.useState)("coinbase-wallet-app"),i=(0,vu.useCallback)(u=>{n(u)},[]),s=(0,Ww.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=_u[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,L.h)("div",{"data-testid":"connect-content",class:(0,He.default)("-cbwsdk-connect-content",e)},(0,L.h)("style",null,Xw.default),(0,L.h)("div",{class:"-cbwsdk-connect-content-header"},(0,L.h)("h2",{class:(0,He.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,L.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,L.h)(zw.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,L.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,L.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,L.h)("div",null,Object.entries(_u).map(([u,l])=>(0,L.h)(mh,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,L.h)("div",{class:(0,He.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,L.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,L.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,L.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,L.h)(Yw.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:eS(r),width:25,height:25}}),(0,L.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Uw.LIB_VERSION}),(0,L.h)("input",{type:"hidden",value:s})),(0,L.h)(a,{theme:e}),!t.isConnected&&(0,L.h)("div",{"data-testid":"connecting-spinner",class:(0,He.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,L.h)(Kw.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,L.h)("p",null,"Connecting...")))))}lt.ConnectContent=tS;function mh({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,L.h)("div",{onClick:s,class:(0,He.default)("-cbwsdk-connect-item",i,{selected:n})},(0,L.h)("div",null,(0,L.h)("img",{src:r,alt:t})),(0,L.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,L.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,L.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}lt.ConnectItem=mh;function yh({theme:t}){return(0,L.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,L.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,L.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,L.h)("span",null,"Tap ",(0,L.h)("strong",null,"Scan")," "),(0,L.h)("span",{class:(0,He.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(gh.QRCodeIcon,{fill:vo(t)})))))}lt.CoinbaseWalletSteps=yh;function vh({theme:t}){return(0,L.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,L.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,L.h)("li",{class:(0,He.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,L.h)("span",null,"Tap ",(0,L.h)("strong",null,"More")),(0,L.h)("span",{class:(0,He.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(Zw.StatusDotIcon,{fill:vo(t)})),(0,L.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,L.h)("strong",null,"Scan")),(0,L.h)("span",{class:(0,He.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(gh.QRCodeIcon,{fill:vo(t)})))))}lt.CoinbaseAppSteps=vh;var Xi={},es={};Object.defineProperty(es,"__esModule",{value:!0});es.ArrowLeftIcon=void 0;const wu=Pe;function rS(t){return(0,wu.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,wu.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}es.ArrowLeftIcon=rS;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.LaptopIcon=void 0;const Hs=Pe;function nS(t){return(0,Hs.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Hs.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Hs.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ts.LaptopIcon=nS;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.SafeIcon=void 0;const Su=Pe;function iS(t){return(0,Su.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Su.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}rs.SafeIcon=iS;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var _h=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.TryExtensionContent=void 0;const Pt=_h(Gi),fe=Pe,Ws=Nn,sS=es,oS=ts,aS=rs,cS=_h(Ca);function uS({theme:t}){const[e,r]=(0,Ws.useState)(!1),n=(0,Ws.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Ws.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,fe.h)("div",{class:(0,Pt.default)("-cbwsdk-try-extension",t)},(0,fe.h)("style",null,cS.default),(0,fe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fe.h)("h3",{class:(0,Pt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,fe.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,fe.h)("button",{class:(0,Pt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,fe.h)("div",null,!e&&(0,fe.h)(sS.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,fe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fe.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,fe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fe.h)("span",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,fe.h)(oS.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,fe.h)("div",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,fe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fe.h)("span",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,fe.h)(aS.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,fe.h)("div",{class:(0,Pt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Xi.TryExtensionContent=uS;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var wh=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});qi.ConnectDialog=void 0;const Us=wh(Gi),Dt=Pe,zs=Nn,lS=lt,fS=Xi,hS=wh(Ia),dS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,zs.useState)(!e),[s,o]=(0,zs.useState)(!e);(0,zs.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Dt.h)("div",{class:(0,Us.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Dt.h)("style",null,hS.default),(0,Dt.h)("div",{class:(0,Us.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Dt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Dt.h)("div",{class:(0,Us.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Dt.h)(lS.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Dt.h)(fS.TryExtensionContent,{theme:a}))))};qi.ConnectDialog=dS;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.LinkFlow=void 0;const qs=Pe,Eu=zi,pS=qi;class bS{constructor(e){this.extensionUI$=new Eu.BehaviorSubject({}),this.subscriptions=new Eu.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,qs.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,qs.render)((0,qs.h)(pS.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Hi.LinkFlow=bS;var Sh={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=k&&k.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Gi),n=Pe,i=Nn,s=e(Ra),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(f){switch(f){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const d=this.nextItemKey++;return this.items.set(d,h),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:h}))))),this.root)}}t.Snackbar=c;const u=f=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=u;const l=({autoExpand:f,message:h,menuItems:d,appSrc:p})=>{const[v,y]=(0,i.useState)(!0),[b,m]=(0,i.useState)(f??!1);(0,i.useEffect)(()=>{const R=[window.setTimeout(()=>{y(!1)},1),window.setTimeout(()=>{m(!0)},1e4)];return()=>{R.forEach(window.clearTimeout)}});const w=()=>{m(!b)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",v&&"-cbwsdk-snackbar-instance-hidden",b&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,n.h)("img",{src:a(p),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!b&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((R,E)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:R.onClick,key:E},(0,n.h)("svg",{width:R.svgWidth,height:R.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":R.defaultFillRule,"clip-rule":R.defaultClipRule,d:R.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",R.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},R.info)))))};t.SnackbarInstance=l})(Sh);var ns={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var gS=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.injectCssReset=void 0;const mS=gS(xa);function yS(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(mS.default)),document.documentElement.appendChild(t)}ns.injectCssReset=yS;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.WalletSDKUI=void 0;const vS=Hi,_S=Sh,wS=ns;class SS{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new _S.Snackbar({darkMode:e.darkMode}),this.linkFlow=new vS.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,wS.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Vi.WalletSDKUI=SS;var is={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});var hr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(hr||(hr={}));function Eh(t,e,r){if(!r||typeof r.value!==hr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:hr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:hr.boolTrue,writable:hr.boolTrue}),n}}}ss.bind=Eh;ss.default=Eh;function Ch(t){return function(r){return r.lift(new ES(t))}}var ES=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new CS(e,this.durationSelector))},t}(),CS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=ae(n,new se(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(oe);function IS(t,e){return e===void 0&&(e=ke),Ch(function(){return ih(t,e)})}function RS(t){return function(r){return r.lift(new xS(t))}}var xS=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new kS(e,this.closingNotifier))},t}(),kS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(ae(n,new se(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(oe);function MS(t,e){return e===void 0&&(e=null),function(n){return n.lift(new AS(t,e))}}var AS=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=TS:this.subscriberClass=OS}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),TS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(M),OS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(M);function NS(t){var e=arguments.length,r=ke;$e(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new LS(t,n,i,r))}}var LS=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new PS(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),$S=function(){function t(){this.buffer=[]}return t}(),PS=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Cu,n,u))}else{var l={subscriber:a,context:c},f={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Ih,n,l)),a.add(o.schedule(DS,i,f))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Cu,i,s))}},e.prototype.openContext=function(){var r=new $S;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(M);function Cu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function DS(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Ih,r,{subscriber:n,context:s})),o.schedule(t,e))}function Ih(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function jS(t,e){return function(n){return n.lift(new FS(t,e))}}var FS=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new BS(e,this.openings,this.closingSelector))},t}(),BS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(vt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ie,o={buffer:i,subscription:s};n.push(o);var a=vt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(nr);function VS(t){return function(e){return e.lift(new HS(t))}}var HS=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new WS(e,this.closingSelector))},t}(),WS=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ie,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(ae(i,new se(this))),this.subscribing=!1},e}(oe);function US(t){return function(r){var n=new zS(t),i=r.lift(n);return n.caught=i}}var zS=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new qS(e,this.selector,this.caught))},t}(),qS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new se(this);this.add(i);var s=ae(n,i);s!==i&&this.add(s)}},e}(oe);function GS(t){return function(e){return e.lift(new da(t))}}function JS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&xe(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(wt([n].concat(t)),new da(r))}}function QS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(hn.apply(void 0,[r].concat(t)))}}function Rh(t,e){return Zt(t,e,1)}function ZS(t,e){return Rh(function(){return t},e)}function YS(t){return function(e){return e.lift(new KS(t,e))}}var KS=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new XS(e,this.predicate,this.source))},t}(),XS=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(M);function eE(t){return function(e){return e.lift(new tE(t))}}var tE=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new rE(e,this.durationSelector))},t}(),rE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=ae(n,new se(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(oe);function nE(t,e){return e===void 0&&(e=ke),function(r){return r.lift(new iE(t,e))}}var iE=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new sE(e,this.dueTime,this.scheduler))},t}(),sE=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oE,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(M);function oE(t){t.debouncedNext()}function Ln(t){return t===void 0&&(t=null),function(e){return e.lift(new aE(t))}}var aE=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new cE(e,this.defaultValue))},t}(),cE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(M);function xh(t){return t instanceof Date&&!isNaN(+t)}function uE(t,e){e===void 0&&(e=ke);var r=xh(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new lE(n,e))}}var lE=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new fE(e,this.delay,this.scheduler))},t}(),fE=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new hE(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(yt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(yt.createComplete()),this.unsubscribe()},e}(M),hE=function(){function t(e,r){this.time=e,this.notification=r}return t}();function dE(t,e){return e?function(r){return new bE(r,e).lift(new Iu(t))}:function(r){return r.lift(new Iu(t))}}var Iu=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new pE(e,this.delayDurationSelector))},t}(),pE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=vt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(nr),bE=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new gE(r,this.source))},e}(F),gE=function(t){g(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(M);function mE(){return function(e){return e.lift(new yE)}}var yE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new vE(e))},t}(),vE=function(t){g(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(M);function _E(t,e){return function(r){return r.lift(new wE(t,e))}}var wE=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new SE(e,this.keySelector,this.flushes))},t}(),SE=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(ae(i,new se(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(oe);function kh(t,e){return function(r){return r.lift(new EE(t,e))}}var EE=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new CE(e,this.compare,this.keySelector))},t}(),CE=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(M);function IE(t,e){return kh(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function os(t){return t===void 0&&(t=kE),function(e){return e.lift(new RE(t))}}var RE=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new xE(e,this.errorFactory))},t}(),xE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(M);function kE(){return new On}function ka(t){return function(e){return t===0?Vr():e.lift(new ME(t))}}var ME=function(){function t(e){if(this.total=e,this.total<0)throw new kr}return t.prototype.call=function(e,r){return r.subscribe(new AE(e,this.total))},t}(),AE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(M);function TE(t,e){if(t<0)throw new kr;var r=arguments.length>=2;return function(n){return n.pipe(Lt(function(i,s){return s===t}),ka(1),r?Ln(e):os(function(){return new kr}))}}function OE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return hn(r,Ui.apply(void 0,t))}}function NE(t,e){return function(r){return r.lift(new LE(t,e,r))}}var LE=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new $E(e,this.predicate,this.thisArg,this.source))},t}(),$E=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(M);function PE(){return function(t){return t.lift(new DE)}}var DE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new jE(e))},t}(),jE=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(ae(r,new se(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(oe);function Mh(t,e){return e?function(r){return r.pipe(Mh(function(n,i){return wt(t(n,i)).pipe(ze(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new FE(t))}}var FE=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new BE(e,this.project))},t}(),BE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(oe);function VE(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new HE(t,e,r))}}var HE=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new WE(e,this.project,this.concurrent,this.scheduler))},t}(),WE=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(ae(r,new se(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(oe);function UE(t){return function(e){return e.lift(new zE(t))}}var zE=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new qE(e,this.callback))},t}(),qE=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ie(n)),i}return e}(M);function GE(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Ah(t,r,!1,e))}}var Ah=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new JE(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),JE=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(M);function QE(t,e){return function(r){return r.lift(new Ah(t,r,!0,e))}}function ZE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Lt(function(i,s){return t(i,s,n)}):Ot,ka(1),r?Ln(e):os(function(){return new On}))}}function YE(){return function(e){return e.lift(new KE)}}var KE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new XE(e))},t}(),XE=function(t){g(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(M);function e2(){return function(t){return t.lift(new t2)}}var t2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new r2(e))},t}(),r2=function(t){g(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(M);function hi(t){return function(r){return t===0?Vr():r.lift(new n2(t))}}var n2=function(){function t(e){if(this.total=e,this.total<0)throw new kr}return t.prototype.call=function(e,r){return r.subscribe(new i2(e,this.total))},t}(),i2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(M);function s2(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Lt(function(i,s){return t(i,s,n)}):Ot,hi(1),r?Ln(e):os(function(){return new On}))}}function o2(t){return function(e){return e.lift(new a2(t))}}var a2=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new c2(e,this.value))},t}(),c2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(M);function u2(){return function(e){return e.lift(new l2)}}var l2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new f2(e))},t}(),f2=function(t){g(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(yt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(yt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(yt.createComplete()),r.complete()},e}(M);function di(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new h2(t,e,r))}}var h2=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new d2(e,this.accumulator,this.seed,this.hasSeed))},t}(),d2=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(M);function as(t,e){return arguments.length>=2?function(n){return fo(di(t,e),hi(1),Ln(e))(n)}:function(n){return fo(di(function(i,s,o){return t(i,s,o+1)}),hi(1))(n)}}function p2(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return as(e)}function b2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(eh.apply(void 0,[r].concat(t)))}}function g2(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Zt(function(){return t},e,r):(typeof e=="number"&&(r=e),Zt(function(){return t},r))}function m2(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new y2(t,e,r))}}var y2=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new v2(e,this.accumulator,this.seed,this.concurrent))},t}(),v2=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(oe);function _2(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return as(e)}function Yt(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new w2(i,e));var s=Object.create(n,K1);return s.source=n,s.subjectFactory=i,s}}var w2=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function S2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&xe(t[0])&&(t=t[0]),function(r){return r.lift(new E2(t))}}var E2=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new C2(e,this.nextSources))},t}(),C2=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new se(this),i=this.destination;i.add(n);var s=ae(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(oe);function I2(){return function(t){return t.lift(new R2)}}var R2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new x2(e))},t}(),x2=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(M);function k2(t,e){return function(r){return[Lt(t,e)(r),Lt(rh(t,e))(r)]}}function M2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return ze(A2(t,r))(n)}}function A2(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function T2(t){return t?Yt(function(){return new me},t):Yt(new me)}function O2(t){return function(e){return Yt(new $f(t))(e)}}function N2(){return function(t){return Yt(new Hr)(t)}}function L2(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new ha(t,e,n);return function(o){return Yt(function(){return s},i)(o)}}function $2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&xe(t[0])&&(t=t[0]),n.lift.call(nh.apply(void 0,[n].concat(t)))}}function P2(t){return t===void 0&&(t=-1),function(e){return t===0?Vr():t<0?e.lift(new Ru(-1,e)):e.lift(new Ru(t-1,e))}}var Ru=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new D2(e,this.count,this.source))},t}(),D2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(M);function j2(t){return function(e){return e.lift(new F2(t))}}var F2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new B2(e,this.notifier,r))},t}(),B2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new me;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=ae(r,new se(this))},e}(oe);function V2(t){return t===void 0&&(t=-1),function(e){return e.lift(new H2(t,e))}}var H2=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new W2(e,this.count,this.source))},t}(),W2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(M);function U2(t){return function(e){return e.lift(new z2(t,e))}}var z2=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new q2(e,this.notifier,this.source))},t}(),q2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new me;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=ae(i,new se(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(oe);function G2(t){return function(e){return e.lift(new J2(t))}}var J2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Q2(e),i=r.subscribe(n);return i.add(ae(this.notifier,new se(n))),i},t}(),Q2=function(t){g(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(oe);function Z2(t,e){return e===void 0&&(e=ke),function(r){return r.lift(new Y2(t,e))}}var Y2=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new K2(e,this.period,this.scheduler))},t}(),K2=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(X2,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(M);function X2(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function e3(t,e){return function(r){return r.lift(new t3(t,e))}}var t3=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new r3(e,this.compareTo,this.comparator))},t}(),r3=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new n3(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(M),n3=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(M);function i3(){return new me}function s3(){return function(t){return ua()(Yt(i3)(t))}}function o3(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(a3(n))}}function a3(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,f=!1;return function(d){c++;var p;!a||l?(l=!1,a=new ha(r,i,o),p=a.subscribe(this),u=d.subscribe({next:function(v){a.next(v)},error:function(v){l=!0,a.error(v)},complete:function(){f=!0,u=void 0,a.complete()}}),f&&(u=void 0)):p=a.subscribe(this),this.add(function(){c--,p.unsubscribe(),p=void 0,u&&!f&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function c3(t){return function(e){return e.lift(new u3(t,e))}}var u3=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new l3(e,this.predicate,this.source))},t}(),l3=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new On)},e}(M);function f3(t){return function(e){return e.lift(new h3(t))}}var h3=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new d3(e,this.total))},t}(),d3=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(M);function p3(t){return function(e){return e.lift(new b3(t))}}var b3=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new kr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new M(e)):r.subscribe(new g3(e,this._skipCount))},t}(),g3=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(M);function m3(t){return function(e){return e.lift(new y3(t))}}var y3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new v3(e,this.notifier))},t}(),v3=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new se(i);i.add(s),i.innerSubscription=s;var o=ae(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(oe);function _3(t){return function(e){return e.lift(new w3(t))}}var w3=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new S3(e,this.predicate))},t}(),S3=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(M);function E3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return $e(r)?(t.pop(),function(n){return hn(t,n,r)}):function(n){return hn(t,n)}}var C3=function(t){g(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Xn);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Mr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Xn),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Xn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(F);function I3(t,e){return e===void 0&&(e=0),function(n){return n.lift(new R3(t,e))}}var R3=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new C3(r,this.delay,this.scheduler).subscribe(e)},t}();function dn(t,e){return typeof e=="function"?function(r){return r.pipe(dn(function(n,i){return wt(t(n,i)).pipe(ze(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new x3(t))}}var x3=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new k3(e,this.project))},t}(),k3=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new se(this),s=this.destination;s.add(i),this.innerSubscription=ae(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(oe);function M3(){return dn(Ot)}function A3(t,e){return e?dn(function(){return t},e):dn(function(){return t})}function T3(t){return function(e){return e.lift(new O3(t))}}var O3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new N3(e),i=ae(this.notifier,new se(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),N3=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(oe);function L3(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new $3(t,e))}}var $3=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new P3(e,this.predicate,this.inclusive))},t}(),P3=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(M);function D3(t,e,r){return function(i){return i.lift(new j3(t,e,r))}}var j3=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new F3(e,this.nextOrObserver,this.error,this.complete))},t}(),F3=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=st,o._tapError=st,o._tapComplete=st,o._tapError=i||st,o._tapComplete=s||st,Rr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||st,o._tapError=n.error||st,o._tapComplete=n.complete||st),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(M),Th={leading:!0,trailing:!1};function B3(t,e){return e===void 0&&(e=Th),function(r){return r.lift(new V3(t,!!e.leading,!!e.trailing))}}var V3=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new H3(e,this.durationSelector,this.leading,this.trailing))},t}(),H3=function(t){g(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=ae(n,new se(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(oe);function W3(t,e,r){return e===void 0&&(e=ke),r===void 0&&(r=Th),function(n){return n.lift(new U3(t,e,r.leading,r.trailing))}}var U3=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new z3(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),z3=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(q3,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(M);function q3(t){var e=t.subscriber;e.clearThrottle()}function G3(t){return t===void 0&&(t=ke),function(e){return ba(function(){return e.pipe(di(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),ze(function(r){var n=r.current,i=r.last,s=r.value;return new J3(s,n-i)}))})}}var J3=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Oh(t,e,r){return r===void 0&&(r=ke),function(n){var i=xh(t),s=i?+t-r.now():Math.abs(t);return n.lift(new Q3(s,i,e,r))}}var Q3=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Z3(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Z3=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(ae(n,new se(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(oe);function Y3(t,e){return e===void 0&&(e=ke),Oh(t,fa(new Uf),e)}function K3(t){return t===void 0&&(t=ke),ze(function(e){return new X3(e,t.now())})}var X3=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function e4(t,e,r){return r===0?[e]:(t.push(e),t)}function t4(){return as(e4,[])}function r4(t){return function(r){return r.lift(new n4(t))}}var n4=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new i4(e),i=r.subscribe(n);return i.closed||n.add(ae(this.windowBoundaries,new se(n))),i},t}(),i4=function(t){g(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new me,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new me;n.next(i)},e}(oe);function s4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new o4(t,e))}}var o4=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new a4(e,this.windowSize,this.startWindowEvery))},t}(),a4=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new me],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new me;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(M);function c4(t){var e=ke,r=null,n=Number.POSITIVE_INFINITY;return $e(arguments[3])&&(e=arguments[3]),$e(arguments[2])?e=arguments[2]:Mr(arguments[2])&&(n=Number(arguments[2])),$e(arguments[1])?e=arguments[1]:Mr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new u4(t,r,n,e))}}var u4=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new f4(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),l4=function(t){g(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(me),f4=function(t){g(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Nh,n,u)),a.add(o.schedule(d4,i,l))}else{var f={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(h4,n,f))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new l4;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(M);function h4(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function d4(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Nh,e,c),o.add(a.subscription),o.schedule(t,i)}function Nh(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function p4(t,e){return function(r){return r.lift(new b4(t,e))}}var b4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new g4(e,this.openings,this.closingSelector))},t}(),g4=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=vt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var u=new me,l=new ie,f={window:u,subscription:l};this.contexts.push(f);var h=vt(this,a,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,l.add(h)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(nr);function m4(t){return function(r){return r.lift(new y4(t))}}var y4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new v4(e,this.closingSelector))},t}(),v4=function(t){g(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new me;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=vt(this,s))},e}(nr);function _4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new w4(i,n))}}var w4=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new S4(e,this.observables,this.project))},t}(),S4=function(t){g(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(vt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(nr);function E4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(sh.apply(void 0,[n].concat(t)))}}function C4(t){return function(e){return e.lift(new oh(t))}}const I4=Object.freeze(Object.defineProperty({__proto__:null,audit:Ch,auditTime:IS,buffer:RS,bufferCount:MS,bufferTime:NS,bufferToggle:jS,bufferWhen:VS,catchError:US,combineAll:GS,combineLatest:JS,concat:QS,concatAll:Zf,concatMap:Rh,concatMapTo:ZS,count:YS,debounce:eE,debounceTime:nE,defaultIfEmpty:Ln,delay:uE,delayWhen:dE,dematerialize:mE,distinct:_E,distinctUntilChanged:kh,distinctUntilKeyChanged:IE,elementAt:TE,endWith:OE,every:NE,exhaust:PE,exhaustMap:Mh,expand:VE,filter:Lt,finalize:UE,find:GE,findIndex:QE,first:ZE,flatMap:q_,groupBy:e_,ignoreElements:YE,isEmpty:e2,last:s2,map:ze,mapTo:o2,materialize:u2,max:p2,merge:b2,mergeAll:pa,mergeMap:Zt,mergeMapTo:g2,mergeScan:m2,min:_2,multicast:Yt,observeOn:l_,onErrorResumeNext:S2,pairwise:I2,partition:k2,pluck:M2,publish:T2,publishBehavior:O2,publishLast:N2,publishReplay:L2,race:$2,reduce:as,refCount:ua,repeat:P2,repeatWhen:j2,retry:V2,retryWhen:U2,sample:G2,sampleTime:Z2,scan:di,sequenceEqual:e3,share:s3,shareReplay:o3,single:c3,skip:f3,skipLast:p3,skipUntil:m3,skipWhile:_3,startWith:E3,subscribeOn:I3,switchAll:M3,switchMap:dn,switchMapTo:A3,take:ka,takeLast:hi,takeUntil:T3,takeWhile:L3,tap:D3,throttle:B3,throttleTime:W3,throwIfEmpty:os,timeInterval:G3,timeout:Y3,timeoutWith:Oh,timestamp:K3,toArray:t4,window:r4,windowCount:s4,windowTime:c4,windowToggle:p4,windowWhen:m4,withLatestFrom:_4,zip:E4,zipAll:C4},Symbol.toStringTag,{value:"Module"})),Ma=Kt(I4);var cs={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ClientMessagePublishEvent=Ve.ClientMessageSetSessionConfig=Ve.ClientMessageGetSessionConfig=Ve.ClientMessageIsLinked=Ve.ClientMessageHostSession=void 0;function R4(t){return Object.assign({type:"HostSession"},t)}Ve.ClientMessageHostSession=R4;function x4(t){return Object.assign({type:"IsLinked"},t)}Ve.ClientMessageIsLinked=x4;function k4(t){return Object.assign({type:"GetSessionConfig"},t)}Ve.ClientMessageGetSessionConfig=k4;function M4(t){return Object.assign({type:"SetSessionConfig"},t)}Ve.ClientMessageSetSessionConfig=M4;function A4(t){return Object.assign({type:"PublishEvent"},t)}Ve.ClientMessagePublishEvent=A4;var Lh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=zi,r=Ma;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Lh);var us={};Object.defineProperty(us,"__esModule",{value:!0});us.isServerMessageFail=void 0;function T4(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}us.isServerMessageFail=T4;Object.defineProperty(cs,"__esModule",{value:!0});cs.WalletSDKConnection=void 0;const Ge=zi,U=Ma,Qr=$r,cr=bn,Zr=Ve,Yr=Nr,Qn=Lh,Gs=us,xu=1e4,O4=6e4;class N4{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ge.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,cr.IntNumber)(1),this.connectedSubject=new Ge.BehaviorSubject(!1),this.linkedSubject=new Ge.BehaviorSubject(!1),this.sessionConfigSubject=new Ge.ReplaySubject(1);const o=new Qn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,U.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Yr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Qr.Session.hash(e)})}),(0,U.skip)(1),(0,U.filter)(a=>a===Qn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,U.delay)(5e3),(0,U.filter)(a=>!this.destroyed),(0,U.flatMap)(a=>o.connect()),(0,U.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,U.skip)(2),(0,U.switchMap)(a=>(0,Ge.iif)(()=>a===Qn.ConnectionState.CONNECTED,this.authenticate().pipe((0,U.tap)(c=>this.sendIsLinked()),(0,U.tap)(c=>this.sendGetSessionConfig()),(0,U.map)(c=>!0)),(0,Ge.of)(!1))),(0,U.distinctUntilChanged)(),(0,U.catchError)(a=>(0,Ge.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,U.skip)(1),(0,U.switchMap)(a=>(0,Ge.iif)(()=>a===Qn.ConnectionState.CONNECTED,(0,Ge.timer)(0,xu)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,U.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,U.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Yr.EVENTS.LINKED,{sessionIdHash:Qr.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,U.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Yr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Qr.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Yr.EVENTS.STARTED_CONNECTING,{sessionIdHash:Qr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Yr.EVENTS.DISCONNECTED,{sessionIdHash:Qr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,U.filter)(e=>e),(0,U.take)(1),(0,U.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,U.filter)(e=>e),(0,U.take)(1),(0,U.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,U.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,U.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Zr.ClientMessageSetSessionConfig)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,U.flatMap)(i=>this.makeRequest(n)),(0,U.map)(i=>{if((0,Gs.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Zr.ClientMessagePublishEvent)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,U.flatMap)(s=>this.makeRequest(i)),(0,U.map)(s=>{if((0,Gs.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>xu*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=O4){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ge.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,U.timeoutWith)(r,(0,Ge.throwError)(new Error(`request ${n} timed out`))),(0,U.filter)(i=>i.id===n),(0,U.take)(1))}authenticate(){const e=(0,Zr.ClientMessageHostSession)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,U.map)(r=>{if((0,Gs.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Zr.ClientMessageIsLinked)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Zr.ClientMessageGetSessionConfig)({id:(0,cr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}cs.WalletSDKConnection=N4;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.decrypt=Tr.encrypt=void 0;const pi=I;async function L4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,pi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),f=new Uint8Array([...r,...u,...l]);return(0,pi.uint8ArrayToHex)(f)}Tr.encrypt=L4;function $4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,pi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,pi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const f=await window.crypto.subtle.decrypt(l,i,u),h=new TextDecoder;r(h.decode(f))}catch(f){n(f)}})()})}Tr.decrypt=$4;var ls={},fs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(fs);Object.defineProperty(ls,"__esModule",{value:!0});ls.Web3RequestCanceledMessage=void 0;const P4=fs;function D4(t){return{type:P4.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ls.Web3RequestCanceledMessage=D4;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.Web3RequestMessage=void 0;const j4=fs;function F4(t){return Object.assign({type:j4.RelayMessageType.WEB3_REQUEST},t)}hs.Web3RequestMessage=F4;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.isWeb3ResponseMessage=Or.Web3ResponseMessage=void 0;const $h=fs;function B4(t){return Object.assign({type:$h.RelayMessageType.WEB3_RESPONSE},t)}Or.Web3ResponseMessage=B4;function V4(t){return t&&t.type===$h.RelayMessageType.WEB3_RESPONSE}Or.isWeb3ResponseMessage=V4;var H4=k&&k.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),W4=k&&k.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ph=k&&k.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},U4=k&&k.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&H4(e,t,r);return W4(e,t),e},z4=k&&k.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});is.WalletSDKRelay=void 0;const Dh=z4(ss),jt=zi,he=Ma,Se=Nr,q4=cs,ur=pn,G4=bn,ee=I,Et=U4(Tr),Ct=$r,Zn=Ye,ye=_i,J4=ls,Q4=hs,Fe=K,Ae=Or;class Ze extends Zn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new jt.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new jt.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ct.Session.load(this.storage)||new Ct.Session(this.storage).save(),r=new q4.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,he.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,he.skip)(1),(0,he.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Zn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Se.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,he.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,he.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,he.mergeMap)(i=>Et.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Zn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,he.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,he.mergeMap)(i=>Et.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Zn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,he.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,he.mergeMap)(i=>(0,jt.zip)(Et.decrypt(i.metadata.ChainId,e.secret),Et.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,he.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,he.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,he.mergeMap)(i=>Et.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Ze.accountRequestCallbackIds.size>0&&(Array.from(Ze.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ae.Web3ResponseMessage)({id:s,response:(0,Fe.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Ze.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,he.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,he.mergeMap)(i=>Et.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,he.timeout)(1e3),(0,he.catchError)(e=>(0,jt.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Se.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ct.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Se.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ct.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new jt.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ye.Web3Method.signEthereumMessage,params:{message:(0,ee.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ye.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ee.hexStringFromBuffer)(e,!0),signature:(0,ee.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ye.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ee.bigIntStringFromBN)(e.weiValue),data:(0,ee.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ee.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ye.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ee.bigIntStringFromBN)(e.weiValue),data:(0,ee.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ee.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ee.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ee.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ye.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ee.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ye.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ee.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ye.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ee.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,Q4.Web3RequestMessage)({id:e,request:r}),s=Ct.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Se.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ct.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Se.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ct.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,J4.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new jt.Observable(s=>{Et.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,he.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,jt.from)(Et.decrypt(e.data,this.session.secret)).pipe((0,he.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ae.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Se.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Fe.isRequestEthereumAccountsResponse)(n)){Ze.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ze.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,ur.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ye.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ee.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ee.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:r,response:(0,Fe.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=ur.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}Ze.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ye.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ee.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(G4.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:n,response:(0,Fe.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ye.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ee.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const f=new Promise((h,d)=>{this.relayEventManager.callbacks.set(u,y=>{if(c==null||c(),y.errorMessage)return d(new Error(y.errorMessage));h(y)});const p=y=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Fe.WatchAssetReponse)(!1)}))},v=()=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Fe.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:v,onCancel:p,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:f}}addEthereumChain(e,r,n,i,s,o){const a={method:ye.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,ee.randomBytesHex)(8),l=h=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((h,d)=>{this.relayEventManager.callbacks.set(u,y=>{if(c==null||c(),y.errorMessage)return d(new Error(y.errorMessage));h(y)});const p=y=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Fe.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},v=y=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:u,response:(0,Fe.AddEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:p,onApprove:v,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:ye.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ee.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,Fe.isErrorResponse)(f)&&f.errorCode)return c(ur.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(f.errorMessage)return c(new Error(f.errorMessage));a(f)});const u=f=>{var h;if(f){const d=(h=(0,ur.getErrorCode)(f))!==null&&h!==void 0?h:ur.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ye.Web3Method.switchEthereumChain,f instanceof Error?f:ur.standardErrors.provider.unsupportedChain(e),d)}else this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=f=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:i,response:(0,Fe.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:f})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ct.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ae.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ye.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ze.accountRequestCallbackIds=new Set;Ph([Dh.default],Ze.prototype,"resetAndReload",null);Ph([Dh.default],Ze.prototype,"handleIncomingEvent",null);is.WalletSDKRelay=Ze;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.WalletSDKRelayEventManager=void 0;const Z4=I;class Y4{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,Z4.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ds.WalletSDKRelayEventManager=Y4;Object.defineProperty(an,"__esModule",{value:!0});an.CoinbaseWalletSDK=void 0;const K4=gi,X4=mi,e5=yi,t5=yr,r5=Vi,n5=is,i5=ds,s5=I,jh=Lr;class ps{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||X4.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new r5.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new e5.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",ps.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new i5.WalletSDKRelayEventManager,this._relay=new n5.WalletSDKRelay({linkAPIUrl:s,version:jh.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new t5.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,s5.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,K4.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}an.CoinbaseWalletSDK=ps;ps.VERSION=jh.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=an,r=yr;var n=an;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=yr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(_o);const o5=Vh(_o),m5=qh({__proto__:null,default:o5},[_o]);export{m5 as i};
